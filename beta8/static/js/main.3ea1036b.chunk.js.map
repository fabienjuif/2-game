{"version":3,"sources":["game/camera/camera.jsx","../../utils/src/index.js","contexts/tiles.jsx","game/tiles/tile.jsx","game/tiles/tiles.jsx","game/bunnies/bunny.jsx","game/bunnies/bunnies.jsx","game/light.jsx","game/game.jsx","ui/ui.jsx","app.jsx","serviceWorker.js","index.js","game/tiles/tile.png","game/bunnies/bunny.png"],"names":["Camera","_ref","children","width","height","windowWidth","windowHeight","props","Object","objectWithoutProperties","_useState","useState","_useState2","slicedToArray","scale","setScale","_useState3","_useState4","_useState4$","x","y","setPosition","ref","useRef","useEffect","current","interactive","hitArea","Rectangle","document","body","addEventListener","e","preventDefault","curr","Math","max","min","deltaY","on","clickStart","undefined","pinchStart","_e$data","data","global","buttons","originalEvent","touches","length","_e$data$originalEvent","_e$data$originalEvent2","firstX","clientX","firstY","clientY","_e$data$originalEvent3","secondX","secondY","distance","pow","_ref$current$clickSta","startX","startY","_ref2","_ref3","oldX","oldY","react_default","a","createElement","react_pixi_module","assign","random","round","hexRgb","hex","rgbHex","r","g","b","src_darker","_hexRgb","_hexRgb2","easing","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInElastic","sin","easeOutElastic","easeInOutElastic","easeInSin","PI","easeOutSin","easeInOutSin","Context","createContext","TilesProvider","tiles","player1","ceil","player2","i","line","push","j","player","key","concat","getTiles","setTiles","setPlayer","_useState5","_useState6","pieces","setPieces","Provider","value","getData","getPlayer","next","old","map","tile","objectSpread","tx","ty","ownTile","Tile","tint","useContext","TilesContext","shadow","setShadow","click","image","anchor","darker","pointerdown","Date","now","pointerup","pointerover","pointerout","getTint","Tiles","useTick","delta","innerTile","targetR","targetG","targetB","targetFrame","currentFrame","previousPlayer","nextFramePercent","easeNextFramePercent","_hexRgb3","_hexRgb4","prevR","prevG","prevB","nextValue","targetValue","newValue","newTint","apply","toConsumableArray","game_tiles_tile","Wrapper","tiles_Tiles","Bunny","targetX","targetY","speed","_ref$easeTime","easeTime","_ref$easeX","easeX","_ref$easeY","easeY","setCurrentFrame","frames","target","setTarget","position","sqrt","percentDistance","nextX","nextY","bunny","getBunnys","count","Array","from","_","index","Bunnys","bunnys","setBunnys","setInterval","React","bunnies_Bunnys","Light","texture","setTexture","app","useApp","renderTexture","PIXI","create","clear","beginFill","drawRect","endFill","drawCircle","renderer","render","Game","_useState2$","setSize","mask","setMask","maskRef","window","innerWidth","innerHeight","useLayoutEffect","contexts_tiles","Consumer","options","autoResize","transparent","forceFXAA","resolution","devicePixelRatio","autoDensity","roundPixel","resizeTo","bunnies","camera","tiles_tiles","light","blendMode","MULTIPLY","UI","_useContext","className","onClick","App","tiles_TilesProvider","game_game","ui_ui","Boolean","location","hostname","match","ReactDOM","src_app","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3ea1036b.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport { Container } from '@inlet/react-pixi'\nimport { Rectangle } from 'pixi.js'\n\nconst Camera = ({\n  children,\n  width,\n  height,\n  windowWidth,\n  windowHeight,\n  ...props,\n}) => {\n  const [scale, setScale] = useState(0.4)\n  const [[x, y], setPosition] = useState([(windowWidth - (width * scale)) / 2, (windowHeight - (height * scale)) / 2])\n  const ref = useRef(null)\n\n  useEffect(\n    () => {\n      ref.current.interactive = true\n      ref.current.hitArea = new Rectangle(0, 0, width, height)\n\n      document.body.addEventListener('wheel', (e) => {\n        e.preventDefault()\n        setScale(curr => Math.max(0.1, Math.min(3, curr - (e.deltaY / 100))))\n        // TODO: zoom where the pointer is\n      })\n\n      ref.current.on('pointerupoutside', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n      ref.current.on('pointerup', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n\n      ref.current.on('pointermove', (e) => {\n        const { global, buttons } = e.data\n\n        // pinch\n        if (e.data.originalEvent.touches && e.data.originalEvent.touches.length > 1) {\n          const [{ clientX: firstX, clientY: firstY }, { clientX: secondX, clientY: secondY }] = e.data.originalEvent.touches\n          const distance = (secondX - firstX) ** 2 + (secondY - firstY) ** 2\n\n          if (ref.current.pinchStart) {\n            setScale(curr => Math.max(0.1, Math.min(3, curr + (distance - ref.current.pinchStart) / 100000)))\n          }\n\n          ref.current.pinchStart = distance\n\n          return\n        }\n\n        // click\n        if (buttons === 0) return\n\n        const { x, y } = global\n\n        if (ref.current.clickStart) {\n          const [startX, startY] = ref.current.clickStart\n          setPosition(([oldX, oldY]) => [oldX + x - startX, oldY + y - startY])\n        }\n\n        ref.current.clickStart = [x, y]\n      })\n    },\n    [],\n  )\n\n  return (\n    <Container\n      {...props}\n      ref={ref}\n      x={x}\n      y={y}\n      scale={scale}\n    >\n      {children}\n    </Container>\n  )\n}\n\nexport default Camera\n","import _slicedToArray from \"/Volumes/sensitive/work/2-game/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nexport var random = function random(x, y) {\n  return Math.round(Math.random() * (y - x) + x);\n};\nexport var hexRgb = function hexRgb(hex) {\n  var r = hex >> 16 & 255;\n  var g = hex >> 8 & 255;\n  var b = hex & 255;\n  return [r, g, b];\n};\nexport var rgbHex = function rgbHex(r, g, b) {\n  return b | g << 8 | r << 16;\n};\nexport var darker = function darker(hex) {\n  var _hexRgb = hexRgb(hex),\n      _hexRgb2 = _slicedToArray(_hexRgb, 3),\n      r = _hexRgb2[0],\n      g = _hexRgb2[1],\n      b = _hexRgb2[2];\n\n  return rgbHex(r * 3 / 4, g * 3 / 4, b * 3 / 4);\n}; // source: https://gist.github.com/gre/1650294\n\nexport var easing = {\n  // no easing, no acceleration\n  linear: function linear(t) {\n    return t;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  // accelerating from zero velocity\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  // accelerating from zero velocity\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuart: function easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(t) {\n    return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: function easeInOutQuint(t) {\n    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  },\n  // elastic bounce effect at the beginning\n  easeInElastic: function easeInElastic(t) {\n    return (.04 - .04 / t) * Math.sin(25 * t) + 1;\n  },\n  // elastic bounce effect at the end\n  easeOutElastic: function easeOutElastic(t) {\n    return .04 * t / --t * Math.sin(25 * t);\n  },\n  // elastic bounce effect at the beginning and end\n  easeInOutElastic: function easeInOutElastic(t) {\n    return (t -= .5) < 0 ? (.02 + .01 / t) * Math.sin(90 * t) : (.02 - .01 / t) * Math.sin(90 * t) + 1;\n  },\n  easeInSin: function easeInSin(t) {\n    return 1 + Math.sin(Math.PI / 2 * t - Math.PI / 2);\n  },\n  easeOutSin: function easeOutSin(t) {\n    return Math.sin(Math.PI / 2 * t);\n  },\n  easeInOutSin: function easeInOutSin(t) {\n    return (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2;\n  }\n};","import React, { createContext, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { random } from '@2-game/utils'\n\nconst Context = createContext()\n\nconst getTiles = (width, height) => {\n  const tiles = []\n\n  const player1 = {\n    x: Math.round(random(0, Math.ceil(width / 20))),\n    y: Math.round(random(0, Math.ceil(height / 15))),\n  }\n\n  const player2 = {\n    x: Math.round(random(0, Math.ceil(width / 20))),\n    y: Math.round(random(0, Math.ceil(height / 15))),\n  }\n\n  while (player2.x === player1.x) player2.x = random(0, Math.round(width / 20))\n\n  for (let i = 0; i < Math.round(width / 20); i += 1) {\n    const line = []\n    tiles.push(line)\n\n    for (let j = 0; j < Math.round(height / 15); j += 1) {\n      let player = undefined\n      if (player1.x === i && player1.y === j) player = 'player1'\n      if (player2.x === i && player2.y === j) player = 'player2'\n\n      line.push({\n        key: `${i}-${j}`,\n        x: i,\n        y: j,\n        player,\n      })\n    }\n  }\n\n  return tiles\n}\n\nconst TilesProvider = ({ children, width, height }) => {\n  const [tiles, setTiles] = useState(getTiles(width, height))\n  const [player, setPlayer] = useState('player1')\n  const [pieces, setPieces] = useState(2)\n\n  const next = () => {\n    setPlayer(old => old === 'player1' ? 'player2' : 'player1')\n    setPieces(2)\n\n    if (player === 'player1') return\n\n    setTiles(curr => curr\n      .map((line, x) => line.map((tile, y) => {\n        const getPlayer = () => {\n          if (tile.player) return tile.player\n\n          const getPlayer = (tx, ty) => tiles[tx] && tiles[tx][ty] && tiles[tx][ty].player && tiles[tx][ty].player\n\n          return (\n            getPlayer(x - 1, y)\n            || getPlayer(x + 1, y)\n            || getPlayer(y % 2 ? x : x - 1, y - 1)\n            || getPlayer(y % 2 ? x + 1 : x, y - 1)\n            || getPlayer(y % 2 ? x : x - 1, y + 1)\n            || getPlayer(y % 2 ? x + 1 : x, y + 1)\n            || undefined\n          )\n        }\n\n        return {\n          ...tile,\n          player: getPlayer(),\n        }\n      })))\n  }\n\n  const ownTile = (x, y) => {\n    if (pieces <= 0) return\n    setPieces(old => old - 1)\n\n    setTiles(tiles => tiles.map((line, tx) => line.map((tile, ty) => {\n      if (tx === x && ty === y) return { ...tile, player }\n      return tile\n    })))\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        getData: () => tiles,\n        getPlayer: () => player,\n        next,\n        ownTile,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n\nTilesProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Context\nexport { TilesProvider }\n","import React, { useContext, useRef, useState } from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport { darker } from '@2-game/utils'\nimport TilesContext from '../../contexts/tiles'\nimport tile from './tile.png'\n\nconst Tile = ({ x, y, tint, ...props }) => {\n  const { ownTile } = useContext(TilesContext)\n  const [shadow, setShadow] = useState(false)\n  const click = useRef(undefined)\n\n  const pointerup = (e) => {\n    if (!click.current) return\n    if (click.current > Date.now() - 200) {\n      ownTile(x, y)\n    }\n    click.current = undefined\n  }\n\n  const pointerdown = (e) => {\n    click.current = Date.now()\n  }\n\n  const pointerover = () => {\n    setShadow(true)\n  }\n\n  const pointerout = () => {\n    setShadow(false)\n  }\n\n  return (\n    <Sprite\n      {...props}\n      image={tile}\n      anchor={0.5}\n      interactive\n      x={x * 20 + (y % 2 * 10)}\n      y={y * 15}\n      tint={shadow ? darker(tint) : tint}\n      pointerdown={pointerdown}\n      pointerup={pointerup}\n      pointerover={pointerover}\n      pointerout={pointerout}\n    />\n  )\n}\n\nexport default Tile\n","import React, { useState, useContext } from 'react'\nimport { Container, useTick } from '@inlet/react-pixi'\nimport { easing, hexRgb, rgbHex } from '@2-game/utils'\nimport TilesContext from '../../contexts/tiles'\nimport Tile from './tile'\n\nconst getTint = (player) => {\n  switch (player) {\n    case 'player1': return 0xcc2020\n    case 'player2': return 0x2020cc\n    default: return 0xffffff\n  }\n}\n\nconst Tiles = () => {\n  const [tiles, setTiles] = useState([])\n  const { getData } = useContext(TilesContext) || {}\n\n  useTick((delta) => {\n    setTiles(getData().map((line, x) => line.map((tile, y) => {\n      if (!tiles[x] || !tiles[x][y]) return { ...tile, tint: getTint(tile.player) }\n      const innerTile = tiles[x][y]\n\n      if (innerTile.player !== tile.player) {\n        const [targetR, targetG, targetB] = hexRgb(getTint(tile.player))\n\n        return {\n          ...tile,\n          targetR,\n          targetG,\n          targetB,\n          targetFrame: 10,\n          currentFrame: 0,\n          previousPlayer: innerTile.player,\n        }\n      }\n\n      if (innerTile.targetFrame === undefined) return innerTile\n      if (innerTile.currentFrame >= innerTile.targetFrame) return innerTile\n\n      const nextFramePercent = (innerTile.currentFrame + delta) / innerTile.targetFrame\n      const easeNextFramePercent = Math.min(1, easing.linear(nextFramePercent))\n\n      const [prevR, prevG, prevB] = hexRgb(getTint(innerTile.previousPlayer))\n\n      const nextValue = (value, targetValue) => {\n        const distance = targetValue - value\n        if (distance === 0) return value\n\n        const nextDistance = easeNextFramePercent * distance\n        const newValue = nextDistance + value\n\n        return Math.round(newValue)\n      }\n\n      const newTint = rgbHex(\n        nextValue(prevR, innerTile.targetR),\n        nextValue(prevG, innerTile.targetG),\n        nextValue(prevB, innerTile.targetB),\n      )\n\n      const newTile = {\n        ...innerTile,\n        tint: newTint,\n        currentFrame: innerTile.currentFrame + delta,\n      }\n\n      return newTile\n    })))\n  })\n\n  return [].concat(...tiles.map(line => line.map(({ key, x, y, tint }) => (\n    <Tile\n      key={key}\n      x={x}\n      y={y}\n      tint={tint || 0xFFFFFF}\n    />\n  ))))\n}\n\nconst Wrapper = (props) => (\n  <Container {...props}>\n    <Tiles />\n  </Container>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect } from 'react'\nimport { Sprite, useTick } from '@inlet/react-pixi'\nimport { easing } from '@2-game/utils'\nimport bunny from './bunny.png'\n\n// const texture = new PIXI.Texture.fromImage(bunny)\n\nconst Bunny = ({\n  x,\n  y,\n  targetX,\n  targetY,\n  speed, // px per seconds\n  easeTime = 'linear',\n  easeX = 'linear',\n  easeY = 'linear',\n  ...props,\n}) => {\n  const [currentFrame, setCurrentFrame] = useState(0)\n  const [target, setTarget] = useState({\n    distance: 0,\n    frames: 0,\n    x: targetX,\n    y: targetY,\n  })\n  const [position, setPosition] = useState({\n    x: x,\n    y: y,\n  })\n\n  useEffect(\n    () => {\n      const distance = Math.sqrt((targetX - x) ** 2 + (targetY - y) ** 2)\n      const frames = distance / (speed / 60)\n\n      setTarget({\n        ...target,\n        distance,\n        frames,\n      })\n\n      setCurrentFrame(0)\n    },\n    [targetX, targetY, x, y, speed],\n  )\n\n  useEffect(\n    () => {\n      if (target.distance === 0) return\n\n      const nextFramePercent = (currentFrame / target.frames)\n      const easeNextFramePercent = easing[easeTime](nextFramePercent)\n      const nextDistance = easeNextFramePercent * target.distance\n\n      const percentDistance = nextDistance / target.distance\n\n      const nextX = ((target.x - x) * easing[easeX](percentDistance)) + x\n      const nextY = ((target.y - y) * easing[easeY](percentDistance)) + y\n\n      setPosition({\n        x: nextX,\n        y: nextY,\n      })\n    },\n    [currentFrame],\n  )\n\n  useTick((delta) => {\n    if (target.distance === 0) return\n    if (target.frames <= currentFrame) return\n\n    setCurrentFrame(currentFrame + delta)\n  })\n\n  return (\n    <Sprite\n      {...props}\n      // texture={texture}\n      image={bunny}\n      // cacheAsBitmap={true}\n      x={position.x}\n      y={position.y}\n      interactive={false}\n      anchor={0.5}\n    />\n  )\n}\n\nexport default Bunny\n","import React, { useState, useEffect } from 'react'\nimport { random } from '@2-game/utils'\nimport { ParticleContainer } from '@inlet/react-pixi'\nimport Bunny from './bunny'\n\nconst getBunnys = (count) => Array\n  .from({ length: count })\n  .map((_, index) => {\n    const x = random(50, 750)\n    const y = random(50, 550)\n    return {\n      key: index,\n      x,\n      y,\n      targetX: random(50, 750),\n      targetY: random(50, 550),\n      speed: random(100, 200),\n      scale: random(0.5, 2),\n      tint: random(0x555555, 0xffffff),\n      easeTime: 'easeOutCubic',\n      easeX: 'easeInCubic',\n      easeY: 'easeInQuint',\n    }\n  })\n\nconst Bunnys = ({ count }) => {\n  const [bunnys, setBunnys] = useState([])\n\n  useEffect(() => {\n    setBunnys(getBunnys(count))\n\n    setInterval(\n      () => {\n        setBunnys(getBunnys(count))\n      },\n      3000,\n    )\n  }, [])\n\n  return bunnys.map(bunny => React.createElement(Bunny, bunny))\n}\n\nconst Wrapper = (props) => (\n  <ParticleContainer>\n    <Bunnys count={10} />\n  </ParticleContainer>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect } from 'react'\nimport { Sprite, useApp } from '@inlet/react-pixi'\nimport * as PIXI from 'pixi.js'\n\nconst Light = ({ width, height, ...props }) => {\n  const [texture, setTexture] = useState()\n  const app = useApp()\n\n  useEffect(\n    () => {\n      let renderTexture = PIXI.RenderTexture.create(width, height);\n      const g = new PIXI.Graphics()\n      g.clear()\n\n      g.beginFill(0x000000, 0.5)\n      g.drawRect(0, 0, width, height)\n      g.endFill()\n\n      g.beginFill(0xFFFFFF, 1)\n      g.drawCircle(width / 2 , height / 2, 100)\n\n      g.endFill()\n\n      app.renderer.render(g, renderTexture);\n\n      setTexture(renderTexture)\n    },\n    [width, height],\n  )\n\n  if (!texture) return null\n\n  return (\n      <Sprite\n        {...props}\n        texture={texture}\n        width={width}\n        height={height}\n        x={0}\n        y={0}\n      />\n  )\n}\n\nexport default Light\n","import React, { useState, useEffect, useRef, useLayoutEffect } from 'react'\nimport { Stage } from '@inlet/react-pixi'\nimport * as PIXI from 'pixi.js'\nimport Camera from './camera'\nimport Tiles from './tiles'\nimport Bunnies from './bunnies'\nimport TilesContext from '../contexts/tiles'\nimport Light from './light'\nimport './game.css'\n\nconst Game = () => {\n  const [[width, height], setSize] = useState([])\n  const [mask, setMask] = useState(null)\n  const maskRef = useRef(undefined)\n\n  useEffect(\n    () => {\n      setSize([\n        window.innerWidth - 20,\n        window.innerHeight - 20,\n      ])\n    },\n    []\n  )\n\n  useLayoutEffect(() => {\n    if (mask !== maskRef.current) setMask(maskRef.current)\n  })\n\n  if (!width || !height) return false\n  return (\n    <TilesContext.Consumer>\n      {value => (\n        <Stage\n          width={width}\n          height={height}\n          options={{\n            autoResize: true,\n            transparent: true,\n            forceFXAA: true,\n            resolution: window.devicePixelRatio,\n            autoDensity: true,\n            roundPixel: false,\n            resizeTo: window,\n          }}\n        >\n          <TilesContext.Provider value={value}>\n            <Bunnies />\n\n            <Camera\n              windowWidth={width}\n              windowHeight={height}\n              width={800}\n              height={600}\n            >\n              <Tiles  />\n            </Camera>\n\n            <Light\n              width={width}\n              height={height}\n              blendMode={PIXI.BLEND_MODES.MULTIPLY}\n            />\n          </TilesContext.Provider>\n        </Stage >\n      )}\n    </TilesContext.Consumer>\n  )\n}\n\nexport default Game\n","import React, { useContext } from 'react'\nimport TilesContext from '../contexts/tiles'\nimport './ui.css'\n\nconst UI = () => {\n  const { next, getPlayer } = useContext(TilesContext)\n\n  return (\n    <div className=\"ui\">\n      <h1>2-game</h1>\n      <h3>{`${getPlayer()} turn!`}</h3>\n\n      <button\n        onClick={next}\n      >\n        {getPlayer() === 'player1' ? 'To player 2' : 'Next turn'}\n      </button>\n    </div>\n  )\n}\n\nexport default UI\n","import React from 'react'\nimport Game from './game'\nimport UI from './ui'\nimport { TilesProvider } from './contexts/tiles'\n\nconst App = () => {\n  return (\n    <TilesProvider width={780} height={480}>\n      <Game />\n      <UI />\n    </TilesProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.body);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQ4y63VPQ6AIAwGUOAmXsDdAQ8vg7sXcHX1BCgkJeWvBGgTY2zsC0LyKQRRhzmFfR+LL9ejStYgvS4W98x1+/vfh2e5640GMeQANJwN1mBZgpIB8hNTWLp9SQd7MVyKEwsgFxaBHJg/FNhDDixa4SwG84oTyw5lFmuCPRi8qzixKjiKBRA3Z7BiOIxiIRxaOdjCivHVCthKeBQDVnD/Aj5qzqRvxuJvXgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAABY0lEQVR42uxXyw3CMAxtSoEFYALEHalDwApwYAtOwAm4MQUHWAGG4MC5YgKYgI9CHTWldZ0moQVxqCVEZFt+ieM8u4xz7lDCGMsYQl9m6yPFk4v1qRkrJ70b3y88x++wDHioF8rB/MEv2zq5QekjpT+7v4EoaQ1v8fq6a2TsxzMXQfJ8pLjOj+T/gCBNXwM6LOupfygQKAL4wZryUYmn2wkOIAHyfKpiiCW8k49s/3siqgBMbFZVl5cmUxDBgcDemIXzAkhuU5U0EHF7dM8wugcgq3GttLsABsGsDhjk1o8Bd/wuM3rApnRFpk6eUAVme5cidVHgVMTp5inSiU+GGyG1ewDBjc+q6gAk2QhjfdTsdOzuFgHBXbgi1QqoPCAoXdXMBnqTwcX4HUEwXzFElt4mioxcdkABDWTCiW5REJ3N6kS6AYQiYGsgAMHsjiXJ9skuXD3YUoTpvmFV36S2/i8BBgBIxbG+UAC9ywAAAABJRU5ErkJggg==\""],"sourceRoot":""}