{"version":3,"sources":["camera/camera.jsx","../../utils/src/index.js","tiles/tile.jsx","tiles/tiles.jsx","bunnies/bunny.jsx","bunnies/bunnies.jsx","app.jsx","serviceWorker.js","index.js","tiles/tile.png","bunnies/bunny.png"],"names":["Camera","_ref","children","width","height","windowWidth","windowHeight","_useState","useState","_useState2","Object","slicedToArray","scale","setScale","_useState3","_useState4","_useState4$","x","y","setPosition","ref","useRef","useApp","useEffect","current","interactive","hitArea","Rectangle","document","body","addEventListener","e","preventDefault","curr","Math","max","min","deltaY","on","clickStart","undefined","pinchStart","_e$data","data","global","buttons","originalEvent","touches","length","_e$data$originalEvent","_e$data$originalEvent2","firstX","clientX","firstY","clientY","_e$data$originalEvent3","secondX","secondY","distance","pow","_ref$current$clickSta","startX","startY","_ref2","_ref3","oldX","oldY","react_default","a","createElement","react_pixi_module","random","hexRgb","value","easing","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInElastic","sin","easeOutElastic","easeInOutElastic","easeInSin","PI","easeOutSin","easeInOutSin","Tile","props","assign","image","tile","anchor","getTint","player","Tiles","tiles","player1","ceil","player2","floor","i","line","push","j","key","concat","tint","getTiles","setTiles","Date","now","time","setTime","useTick","delta","map","newPlayer","newTile","objectSpread","_hexRgb","_hexRgb2","r","g","b","currentFrame","targetFrame","previousTint","targetTint","targetR","targetG","targetB","nextTurn","nextFramePercent","easeNextFramePercent","_hexRgb3","_hexRgb4","prevR","prevG","prevB","nextValue","targetValue","newValue","round","newTint","apply","toConsumableArray","src_tiles_tile","Wrapper","tiles_Tiles","Bunny","targetX","targetY","speed","_ref$easeTime","easeTime","_ref$easeX","easeX","_ref$easeY","easeY","objectWithoutProperties","setCurrentFrame","frames","target","setTarget","_useState5","_useState6","position","sqrt","percentDistance","nextX","nextY","bunny","getBunnys","count","Array","from","_","index","Bunnys","bunnys","setBunnys","setInterval","React","bunnies_Bunnys","App","_useState2$","setSize","window","innerWidth","innerHeight","options","autoResize","transparent","forceFXAA","resolution","devicePixelRatio","autoDensity","roundPixel","resizeTo","bunnies","camera","tiles_tiles","Boolean","location","hostname","match","ReactDOM","render","src_app","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"2JAiFeA,EA7EA,SAAAC,GAMT,IALJC,EAKID,EALJC,SACAC,EAIIF,EAJJE,MACAC,EAGIH,EAHJG,OACAC,EAEIJ,EAFJI,YACAC,EACIL,EADJK,aACIC,EACsBC,mBAAS,IAD/BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACGK,EADHH,EAAA,GACUI,EADVJ,EAAA,GAAAK,EAE0BN,mBAAS,EAAEH,EAAeF,EAAQS,GAAU,GAAIN,EAAgBF,EAASQ,GAAU,IAF7GG,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAAE,EAAAN,OAAAC,EAAA,EAAAD,CAAAK,EAAA,MAEIE,EAFJD,EAAA,GAEOE,EAFPF,EAAA,GAEWG,EAFXJ,EAAA,GAGEK,EAAMC,iBAAO,MACPC,mBAuDZ,OArDAC,oBACE,WACEH,EAAII,QAAQC,aAAc,EAC1BL,EAAII,QAAQE,QAAU,IAAIC,YAAU,EAAG,EAAGxB,EAAOC,GAEjDwB,SAASC,KAAKC,iBAAiB,QAAS,SAACC,GACvCA,EAAEC,iBACFnB,EAAS,SAAAoB,GAAI,OAAIC,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAGH,EAAQF,EAAEM,OAAS,UAIhEjB,EAAII,QAAQc,GAAG,mBAAoB,WACjClB,EAAII,QAAQe,gBAAaC,EACzBpB,EAAII,QAAQiB,gBAAaD,IAE3BpB,EAAII,QAAQc,GAAG,YAAa,WAC1BlB,EAAII,QAAQe,gBAAaC,EACzBpB,EAAII,QAAQiB,gBAAaD,IAG3BpB,EAAII,QAAQc,GAAG,cAAe,SAACP,GAAM,IAAAW,EACPX,EAAEY,KAAtBC,EAD2BF,EAC3BE,OAAQC,EADmBH,EACnBG,QAGhB,GAAId,EAAEY,KAAKG,cAAcC,SAAWhB,EAAEY,KAAKG,cAAcC,QAAQC,OAAS,EAAG,KAAAC,EAAAvC,OAAAC,EAAA,EAAAD,CACYqB,EAAEY,KAAKG,cAAcC,QADjC,GAAAG,EAAAD,EAAA,GACzDE,EADyDD,EAClEE,QAA0BC,EADwCH,EACjDI,QADiDC,EAAAN,EAAA,GACnBO,EADmBD,EAC5BH,QAA2BK,EADCF,EACVD,QAC3DI,EAAWxB,KAAAyB,IAACH,EAAUL,EAAW,GAAtBjB,KAAAyB,IAA2BF,EAAUJ,EAAW,GAQjE,OANIjC,EAAII,QAAQiB,YACd5B,EAAS,SAAAoB,GAAI,OAAIC,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAGH,GAAQyB,EAAWtC,EAAII,QAAQiB,YAAc,aAG1FrB,EAAII,QAAQiB,WAAaiB,GAM3B,GAAgB,IAAZb,EAAJ,CAlBmC,IAoB3B5B,EAAS2B,EAAT3B,EAAGC,EAAM0B,EAAN1B,EAEX,GAAIE,EAAII,QAAQe,WAAY,KAAAqB,EAAAlD,OAAAC,EAAA,EAAAD,CACDU,EAAII,QAAQe,WADX,GACnBsB,EADmBD,EAAA,GACXE,EADWF,EAAA,GAE1BzC,EAAY,SAAA4C,GAAA,IAAAC,EAAAtD,OAAAC,EAAA,EAAAD,CAAAqD,EAAA,GAAEE,EAAFD,EAAA,GAAQE,EAARF,EAAA,SAAkB,CAACC,EAAOhD,EAAI4C,EAAQK,EAAOhD,EAAI4C,KAG/D1C,EAAII,QAAQe,WAAa,CAACtB,EAAGC,OAGjC,IAIAiD,EAAAC,EAAAC,cAACC,EAAA,UAAD,CACElD,IAAKA,EACLH,EAAGA,EACHC,EAAGA,EACHN,MAAOA,GAENV,oBC5EAqE,EAAA,SAAAtD,EAAAC,GACP,OAAAgB,KAAAqC,UAAArD,EAAAD,MAEOuD,EAAA,SAAAC,GAIP,OAHAA,GAAA,OACAA,GAAA,MACA,IAAAA,IAOOC,EAAA,CAEPC,OAAA,SAAAC,GACA,OAAAA,GAGAC,WAAA,SAAAD,GACA,OAAAA,KAGAE,YAAA,SAAAF,GACA,OAAAA,GAAA,EAAAA,IAGAG,cAAA,SAAAH,GACA,OAAAA,EAAA,KAAAA,KAAA,IAAAA,KAAA,GAGAI,YAAA,SAAAJ,GACA,OAAAA,OAGAK,aAAA,SAAAL,GACA,QAAAA,MAAA,GAGAM,eAAA,SAAAN,GACA,OAAAA,EAAA,KAAAA,SAAA,MAAAA,EAAA,MAAAA,EAAA,MAGAO,YAAA,SAAAP,GACA,OAAAA,SAGAQ,aAAA,SAAAR,GACA,YAAAA,SAGAS,eAAA,SAAAT,GACA,OAAAA,EAAA,KAAAA,QAAA,MAAAA,SAGAU,YAAA,SAAAV,GACA,OAAAA,WAGAW,aAAA,SAAAX,GACA,WAAAA,WAGAY,eAAA,SAAAZ,GACA,OAAAA,EAAA,MAAAA,UAAA,OAAAA,WAGAa,cAAA,SAAAb,GACA,eAAAA,GAAA1C,KAAAwD,IAAA,GAAAd,GAAA,GAGAe,eAAA,SAAAf,GACA,UAAAA,MAAA1C,KAAAwD,IAAA,GAAAd,IAGAgB,iBAAA,SAAAhB,GACA,OAAAA,GAAA,eAAAA,GAAA1C,KAAAwD,IAAA,GAAAd,IAAA,QAAAA,GAAA1C,KAAAwD,IAAA,GAAAd,GAAA,GAEAiB,UAAA,SAAAjB,GACA,SAAA1C,KAAAwD,IAAAxD,KAAA4D,GAAA,EAAAlB,EAAA1C,KAAA4D,GAAA,IAEAC,WAAA,SAAAnB,GACA,OAAA1C,KAAAwD,IAAAxD,KAAA4D,GAAA,EAAAlB,IAEAoB,aAAA,SAAApB,GACA,SAAA1C,KAAAwD,IAAAxD,KAAA4D,GAAAlB,EAAA1C,KAAA4D,GAAA,yBCzEeG,EARF,SAACC,GAAD,OACX/B,EAAAC,EAAAC,cAACC,EAAA,OAAD5D,OAAAyF,OAAA,CACEC,MAAOC,IACPC,OAAQ,IACJJ,KCHFK,EAAU,SAACC,GACf,OAAQA,GACN,IAAK,UAAW,OAAO,SACvB,IAAK,UAAW,OAAO,QACvB,QAAS,OAAO,WA8EdC,EAAQ,SAAAxG,GAAuB,IAAA8D,EAApB5D,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,OAAaG,EACTC,mBA3EX,SAACL,EAAOC,GAavB,IAZA,IAAMsG,EAAQ,GAERC,EACDzE,KAAK0E,KAAKrC,EAAO,EAAGrC,KAAK0E,KAAKzG,EAAQ,MADrCwG,EAEDzE,KAAK0E,KAAKrC,EAAO,EAAGrC,KAAK0E,KAAKxG,EAAS,MAGtCyG,EAAU,CACd5F,EAAGiB,KAAK0E,KAAKrC,EAAO,EAAGrC,KAAK0E,KAAKzG,EAAQ,MACzCe,EAAGgB,KAAK0E,KAAKrC,EAAO,EAAGrC,KAAK0E,KAAKxG,EAAS,OAGrCyG,EAAQ5F,IAAM0F,GAAWE,EAAQ5F,EAAIsD,EAAO,EAAGrC,KAAK4E,MAAM3G,EAAQ,KAEzE,IAAK,IAAI4G,EAAI,EAAGA,EAAI7E,KAAK4E,MAAM3G,EAAQ,IAAK4G,GAAK,EAAG,CAClD,IAAMC,EAAO,GACbN,EAAMO,KAAKD,GAEX,IAAK,IAAIE,EAAI,EAAGA,EAAIhF,KAAK4E,MAAM1G,EAAS,IAAK8G,GAAK,EAAG,CACnD,IAAIV,OAAShE,EACTmE,IAAcI,GAAKJ,IAAcO,IAAGV,EAAS,WAC7CK,EAAQ5F,IAAM8F,GAAKF,EAAQ3F,IAAMgG,IAAGV,EAAS,WAEjDQ,EAAKC,KAAK,CACRE,IAAG,GAAAC,OAAKL,EAAL,KAAAK,OAAUF,GACbjG,EAAO,GAAJ8F,EAAUG,EAAI,EAAI,GACrBhG,EAAO,GAAJgG,EACHV,SACAa,KAAMd,EAAQC,MAKpB,OAAOE,EAyC4BY,CAASnH,EAAOC,IADhBK,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC5BmG,EAD4BjG,EAAA,GACrB8G,EADqB9G,EAAA,GAAAK,EAEXN,mBAASgH,KAAKC,OAFH1G,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAE5B4G,EAF4B3G,EAAA,GAEtB4G,EAFsB5G,EAAA,GAwCnC,OApCA6G,kBAAQ,SAACC,GACPN,EA1Ca,SAACb,EAAOgB,EAAMC,GAC7B,OAAIH,KAAKC,MAAQC,EAAO,IAAYhB,GACpCiB,EAAQH,KAAKC,OAENf,EACJoB,IAAI,SAACd,EAAM/F,GAAP,OAAa+F,EAAKc,IAAI,SAACzB,EAAMnF,GAChC,IAUM6G,EATA1B,EAAKG,OAAeH,EAAKG,OACzBE,EAAMzF,EAAI,IAAMyF,EAAMzF,EAAI,GAAGC,IAAMwF,EAAMzF,EAAI,GAAGC,GAAGsF,OAAeE,EAAMzF,EAAI,GAAGC,GAAGsF,OAClFE,EAAMzF,EAAI,IAAMyF,EAAMzF,EAAI,GAAGC,IAAMwF,EAAMzF,EAAI,GAAGC,GAAGsF,OAAeE,EAAMzF,EAAI,GAAGC,GAAGsF,OAClFQ,EAAK9F,EAAI,IAAM8F,EAAK9F,EAAI,GAAGsF,OAAeQ,EAAK9F,EAAI,GAAGsF,OACtDQ,EAAK9F,EAAI,IAAM8F,EAAK9F,EAAI,GAAGsF,OAAeQ,EAAK9F,EAAI,GAAGsF,YAA1D,EAMIwB,EAAOtH,OAAAuH,EAAA,EAAAvH,CAAA,GAAQ2F,GACrB,GAAIA,EAAKG,SAAWuB,EAAW,CAC7B,IAAMV,EAAOd,EAAQwB,GADQG,EAEX1D,EAAO6C,GAFIc,EAAAzH,OAAAC,EAAA,EAAAD,CAAAwH,EAAA,GAEtBE,EAFsBD,EAAA,GAEnBE,EAFmBF,EAAA,GAEhBG,EAFgBH,EAAA,GAI7BH,EAAQxB,OAASuB,EACjBC,EAAQO,aAAe,EACvBP,EAAQQ,YAAc,GACtBR,EAAQS,aAAepC,EAAKgB,MAAQ,SACpCW,EAAQU,WAAarB,EACrBW,EAAQW,QAAUP,EAClBJ,EAAQY,QAAUP,EAClBL,EAAQa,QAAUP,EAClBN,EAAQX,KAAO,SAGjB,OAAOW,OASAc,CAASpC,EAAOgB,EAAMC,GAASG,IAAI,SAACd,EAAM/F,GAAP,OAAa+F,EAAKc,IAAI,SAACzB,EAAMnF,GACvE,QAAyBsB,IAArB6D,EAAKmC,YAA2B,OAAOnC,EAC3C,GAAIA,EAAKkC,cAAgBlC,EAAKmC,YAAa,OAAOnC,EAElD,IFvFC+B,EAAAC,EEuFKU,GAAoB1C,EAAKkC,aAAeV,GAASxB,EAAKmC,YACtDQ,EAAuB9G,KAAKE,IAAI,EAAGsC,EAAOC,OAAOoE,IALsBE,EAO/CzE,EAAO6B,EAAKoC,cAPmCS,EAAAxI,OAAAC,EAAA,EAAAD,CAAAuI,EAAA,GAOtEE,EAPsED,EAAA,GAO/DE,EAP+DF,EAAA,GAOxDG,EAPwDH,EAAA,GASvEI,EAAY,SAAC7E,EAAO8E,GACxB,IAAM7F,EAAW6F,EAAc9E,EAC/B,GAAiB,IAAbf,EAAgB,OAAOe,EAE3B,IACM+E,EADeR,EAAuBtF,EACZe,EAEhC,OAAOvC,KAAKuH,MAAMD,IAGdE,GFtGLtB,EEuGCkB,EAAUH,EAAO9C,EAAKsC,SFvGvBN,EEwGCiB,EAAUF,EAAO/C,EAAKuC,SACtBU,EAAUD,EAAOhD,EAAKwC,SFxG9BR,GAAA,EAAAD,GAAA,IEiHM,OANa1H,OAAAuH,EAAA,EAAAvH,CAAA,GACR2F,EADQ,CAEXgB,KAAMqC,EACNnB,aAAclC,EAAKkC,aAAeV,YAOjC9D,EAAA,IAAGqD,OAAHuC,MAAA5F,EAAArD,OAAAkJ,EAAA,EAAAlJ,CAAagG,EAAMoB,IAAI,SAAAd,GAAI,OAAIA,EAAKc,IAAI,SAAA9D,GAAA,IAAGmD,EAAHnD,EAAGmD,IAAKlG,EAAR+C,EAAQ/C,EAAGC,EAAX8C,EAAW9C,EAAGmG,EAAdrD,EAAcqD,KAAd,OAC7ClD,EAAAC,EAAAC,cAACwF,EAAD,CACE1C,IAAKA,EACLlG,EAAGA,EACHC,EAAGA,EACHmG,KAAMA,WAcGyC,EATC,SAAC5D,GAAD,OACd/B,EAAAC,EAAAC,cAACC,EAAA,kBAAsB4B,EACrB/B,EAAAC,EAAAC,cAAC0F,EAAD,CACE5J,MAAO,IACPC,OAAQ,iCCrDC4J,EAjFD,SAAA/J,GAUR,IATJgB,EASIhB,EATJgB,EACAC,EAQIjB,EARJiB,EACA+I,EAOIhK,EAPJgK,QACAC,EAMIjK,EANJiK,QACAC,EAKIlK,EALJkK,MAKIC,EAAAnK,EAJJoK,gBAII,IAAAD,EAJO,SAIPA,EAAAE,EAAArK,EAHJsK,aAGI,IAAAD,EAHI,SAGJA,EAAAE,EAAAvK,EAFJwK,aAEI,IAAAD,EAFI,SAEJA,EADDtE,EACCxF,OAAAgK,EAAA,EAAAhK,CAAAT,EAAA,kEAAAM,EACoCC,mBAAS,GAD7CC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACGgI,EADH9H,EAAA,GACiBkK,EADjBlK,EAAA,GAAAK,EAEwBN,mBAAS,CACnCkD,SAAU,EACVkH,OAAQ,EACR3J,EAAGgJ,EACH/I,EAAGgJ,IANDnJ,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEG+J,EAFH9J,EAAA,GAEW+J,EAFX/J,EAAA,GAAAgK,EAQ4BvK,mBAAS,CACvCS,EAAGA,EACHC,EAAGA,IAVD8J,EAAAtK,OAAAC,EAAA,EAAAD,CAAAqK,EAAA,GAQGE,EARHD,EAAA,GAQa7J,EARb6J,EAAA,GAyDJ,OA5CAzJ,oBACE,WACE,IAAMmC,EAAWxB,KAAKgJ,KAAKhJ,KAAAyB,IAACsG,EAAUhJ,EAAM,GAAjBiB,KAAAyB,IAAsBuG,EAAUhJ,EAAM,IAC3D0J,EAASlH,GAAYyG,EAAQ,IAEnCW,EAAUpK,OAAAuH,EAAA,EAAAvH,CAAA,GACLmK,EADI,CAEPnH,WACAkH,YAGFD,EAAgB,IAElB,CAACV,EAASC,EAASjJ,EAAGC,EAAGiJ,IAG3B5I,oBACE,WACE,GAAwB,IAApBsJ,EAAOnH,SAAX,CAEA,IAAMqF,EAAoBR,EAAesC,EAAOD,OAI1CO,EAHuBzG,EAAO2F,GAAUtB,GACF8B,EAAOnH,SAEZmH,EAAOnH,SAExC0H,GAAUP,EAAO5J,EAAIA,GAAKyD,EAAO6F,GAAOY,GAAoBlK,EAC5DoK,GAAUR,EAAO3J,EAAIA,GAAKwD,EAAO+F,GAAOU,GAAoBjK,EAElEC,EAAY,CACVF,EAAGmK,EACHlK,EAAGmK,MAGP,CAAC9C,IAGHX,kBAAQ,SAACC,GACiB,IAApBgD,EAAOnH,WACPmH,EAAOD,QAAUrC,GAErBoC,EAAgBpC,EAAeV,MAI/B1D,EAAAC,EAAAC,cAACC,EAAA,OAAD5D,OAAAyF,OAAA,GACMD,EADN,CAGEE,MAAOkF,IAEPrK,EAAGgK,EAAShK,EACZC,EAAG+J,EAAS/J,EACZO,aAAa,EACb6E,OAAQ,OC9ERiF,EAAY,SAACC,GAAD,OAAWC,MAC1BC,KAAK,CAAE1I,OAAQwI,IACf1D,IAAI,SAAC6D,EAAGC,GAGP,MAAO,CACLzE,IAAKyE,EACL3K,EAJQsD,EAAO,GAAI,KAKnBrD,EAJQqD,EAAO,GAAI,KAKnB0F,QAAS1F,EAAO,GAAI,KACpB2F,QAAS3F,EAAO,GAAI,KACpB4F,MAAO5F,EAAO,IAAK,KACnB3D,MAAO2D,EAAO,GAAK,GACnB8C,KAAM9C,EAAO,QAAU,UACvB8F,SAAU,eACVE,MAAO,cACPE,MAAO,kBAIPoB,EAAS,SAAA5L,GAAe,IAAZuL,EAAYvL,EAAZuL,MAAYjL,EACAC,mBAAS,IADTC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACrBuL,EADqBrL,EAAA,GACbsL,EADatL,EAAA,GAc5B,OAXAc,oBAAU,WACRwK,EAAUR,EAAUC,IAEpBQ,YACE,WACED,EAAUR,EAAUC,KAEtB,MAED,IAEIM,EAAOhE,IAAI,SAAAwD,GAAK,OAAIW,IAAM5H,cAAc2F,EAAOsB,MASzCxB,EANC,SAAC5D,GAAD,OACd/B,EAAAC,EAAAC,cAACC,EAAA,kBAAD,KACEH,EAAAC,EAAAC,cAAC6H,EAAD,CAAQV,MAAO,OCKJW,EA3CH,WAAM,IAAA5L,EACmBC,mBAAS,IAD5BC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAA6L,EAAA1L,OAAAC,EAAA,EAAAD,CAAAD,EAAA,MACRN,EADQiM,EAAA,GACDhM,EADCgM,EAAA,GACQC,EADR5L,EAAA,GAchB,OAXAc,oBACE,WACE8K,EAAQ,CACNC,OAAOC,WAAa,GACpBD,OAAOE,YAAc,MAGzB,OAIGrM,IAAUC,IAEb+D,EAAAC,EAAAC,cAACC,EAAA,MAAD,CACEnE,MAAOA,EACPC,OAAQA,EACRqM,QAAS,CACPC,YAAY,EACZC,aAAa,EACbC,WAAW,EACXC,WAAYP,OAAOQ,iBACnBC,aAAa,EACbC,YAAY,EACZC,SAAUX,SAGZnI,EAAAC,EAAAC,cAAC6I,EAAD,MAEA/I,EAAAC,EAAAC,cAAC8I,EAAD,CACE9M,YAAaF,EACbG,aAAcF,EACdD,MAAO,IACPC,OAAQ,KAER+D,EAAAC,EAAAC,cAAC+I,EAAD,SC/BYC,QACW,cAA7Bf,OAAOgB,SAASC,UAEe,UAA7BjB,OAAOgB,SAASC,UAEhBjB,OAAOgB,SAASC,SAASC,MACvB,2DCbNC,IAASC,OAAOvJ,EAAAC,EAAAC,cAACsJ,EAAD,MAAS/L,SAASC,MD4H5B,kBAAmB+L,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iCEnInBC,EAAAC,QAAA,+WCAAD,EAAAC,QAAA","file":"static/js/main.10b93551.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport { Container, useApp } from '@inlet/react-pixi'\nimport { Rectangle } from 'pixi.js'\n\nconst Camera = ({\n  children,\n  width,\n  height,\n  windowWidth,\n  windowHeight,\n}) => {\n  const [scale, setScale] = useState(0.4)\n  const [[x, y], setPosition] = useState([(windowWidth - (width * scale)) / 2, (windowHeight - (height * scale)) / 2])\n  const ref = useRef(null)\n  const app = useApp()\n\n  useEffect(\n    () => {\n      ref.current.interactive = true\n      ref.current.hitArea = new Rectangle(0, 0, width, height)\n\n      document.body.addEventListener('wheel', (e) => {\n        e.preventDefault()\n        setScale(curr => Math.max(0.1, Math.min(3, curr - (e.deltaY / 100))))\n        // TODO: zoom where the pointer is\n      })\n\n      ref.current.on('pointerupoutside', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n      ref.current.on('pointerup', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n\n      ref.current.on('pointermove', (e) => {\n        const { global, buttons } = e.data\n\n        // pinch\n        if (e.data.originalEvent.touches && e.data.originalEvent.touches.length > 1) {\n          const [{ clientX: firstX, clientY: firstY }, { clientX: secondX, clientY: secondY }] = e.data.originalEvent.touches\n          const distance = (secondX - firstX) ** 2 + (secondY - firstY) ** 2\n\n          if (ref.current.pinchStart) {\n            setScale(curr => Math.max(0.1, Math.min(3, curr + (distance - ref.current.pinchStart) / 100000)))\n          }\n\n          ref.current.pinchStart = distance\n\n          return\n        }\n\n        // click\n        if (buttons === 0) return\n\n        const { x, y } = global\n\n        if (ref.current.clickStart) {\n          const [startX, startY] = ref.current.clickStart\n          setPosition(([oldX, oldY]) => [oldX + x - startX, oldY + y - startY])\n        }\n\n        ref.current.clickStart = [x, y]\n      })\n    },\n    [],\n  )\n\n  return (\n    <Container\n      ref={ref}\n      x={x}\n      y={y}\n      scale={scale}\n    >\n      {children}\n    </Container>\n  )\n}\n\nexport default Camera\n","export var random = function random(x, y) {\n  return Math.random() * (y - x) + x;\n};\nexport var hexRgb = function hexRgb(value) {\n  var r = value >> 16 & 255;\n  var g = value >> 8 & 255;\n  var b = value & 255;\n  return [r, g, b];\n};\nexport var rgbHex = function rgbHex(r, g, b) {\n  return b | g << 8 | r << 16;\n}; // source: https://gist.github.com/gre/1650294\n\nexport var easing = {\n  // no easing, no acceleration\n  linear: function linear(t) {\n    return t;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  // accelerating from zero velocity\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  // accelerating from zero velocity\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuart: function easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(t) {\n    return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: function easeInOutQuint(t) {\n    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  },\n  // elastic bounce effect at the beginning\n  easeInElastic: function easeInElastic(t) {\n    return (.04 - .04 / t) * Math.sin(25 * t) + 1;\n  },\n  // elastic bounce effect at the end\n  easeOutElastic: function easeOutElastic(t) {\n    return .04 * t / --t * Math.sin(25 * t);\n  },\n  // elastic bounce effect at the beginning and end\n  easeInOutElastic: function easeInOutElastic(t) {\n    return (t -= .5) < 0 ? (.02 + .01 / t) * Math.sin(90 * t) : (.02 - .01 / t) * Math.sin(90 * t) + 1;\n  },\n  easeInSin: function easeInSin(t) {\n    return 1 + Math.sin(Math.PI / 2 * t - Math.PI / 2);\n  },\n  easeOutSin: function easeOutSin(t) {\n    return Math.sin(Math.PI / 2 * t);\n  },\n  easeInOutSin: function easeInOutSin(t) {\n    return (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2;\n  }\n};","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport tile from './tile.png'\n\nconst Tile = (props) => (\n  <Sprite\n    image={tile}\n    anchor={0.5}\n    {...props}\n  />\n)\n\nexport default Tile\n","import React, { useState } from 'react'\nimport { ParticleContainer, useTick } from '@inlet/react-pixi'\nimport { random, easing, hexRgb, rgbHex } from '@2-game/utils'\nimport Tile from './tile'\n\nconst getTint = (player) => {\n  switch (player) {\n    case 'player1': return 0xcc2020\n    case 'player2': return 0x2020cc\n    default: return 0xffffff\n  }\n}\n\nconst getTiles = (width, height) => {\n  const tiles = []\n\n  const player1 = {\n    x: Math.ceil(random(0, Math.ceil(width / 20))),\n    y: Math.ceil(random(0, Math.ceil(height / 15))),\n  }\n\n  const player2 = {\n    x: Math.ceil(random(0, Math.ceil(width / 20))),\n    y: Math.ceil(random(0, Math.ceil(height / 15))),\n  }\n\n  while (player2.x === player1.x) player2.x = random(0, Math.floor(width / 20))\n\n  for (let i = 0; i < Math.floor(width / 20); i += 1) {\n    const line = []\n    tiles.push(line)\n\n    for (let j = 0; j < Math.floor(height / 15); j += 1) {\n      let player = undefined\n      if (player1.x === i && player1.y === j) player = 'player1'\n      if (player2.x === i && player2.y === j) player = 'player2'\n\n      line.push({\n        key: `${i}-${j}`,\n        x: i * 20 + (j % 2 * 10),\n        y: j * 15,\n        player,\n        tint: getTint(player),\n      })\n    }\n  }\n\n  return tiles\n}\n\nconst nextTurn = (tiles, time, setTime) => {\n  if (Date.now() - time < 500) return tiles\n  setTime(Date.now())\n\n  return tiles\n    .map((line, x) => line.map((tile, y) => {\n      const getPlayer = () => {\n        if (tile.player) return tile.player\n        if (tiles[x - 1] && tiles[x - 1][y] && tiles[x - 1][y].player) return tiles[x - 1][y].player\n        if (tiles[x + 1] && tiles[x + 1][y] && tiles[x + 1][y].player) return tiles[x + 1][y].player\n        if (line[y - 1] && line[y - 1].player) return line[y - 1].player\n        if (line[y + 1] && line[y + 1].player) return line[y + 1].player\n\n        return undefined\n      }\n\n      const newPlayer = getPlayer()\n      const newTile = { ...tile }\n      if (tile.player !== newPlayer) {\n        const tint = getTint(newPlayer)\n        const [r, g, b] = hexRgb(tint)\n\n        newTile.player = newPlayer\n        newTile.currentFrame = 0\n        newTile.targetFrame = 20\n        newTile.previousTint = tile.tint || 0xffffff\n        newTile.targetTint = tint\n        newTile.targetR = r\n        newTile.targetG = g\n        newTile.targetB = b\n        newTile.tint = 0xffffff\n      }\n\n      return newTile\n    }))\n}\n\nconst Tiles = ({ width, height }) => {\n  const [tiles, setTiles] = useState(getTiles(width, height))\n  const [time, setTime] = useState(Date.now())\n\n  useTick((delta) => {\n    setTiles(nextTurn(tiles, time, setTime).map((line, x) => line.map((tile, y) => {\n      if (tile.targetFrame === undefined) return tile\n      if (tile.currentFrame >= tile.targetFrame) return tile\n\n      const nextFramePercent = (tile.currentFrame + delta) / tile.targetFrame\n      const easeNextFramePercent = Math.min(1, easing.linear(nextFramePercent))\n\n      const [prevR, prevG, prevB] = hexRgb(tile.previousTint)\n\n      const nextValue = (value, targetValue) => {\n        const distance = targetValue - value\n        if (distance === 0) return value\n\n        const nextDistance = easeNextFramePercent * distance\n        const newValue = nextDistance + value\n\n        return Math.round(newValue)\n      }\n\n      const newTint = rgbHex(\n        nextValue(prevR, tile.targetR),\n        nextValue(prevG, tile.targetG),\n        nextValue(prevB, tile.targetB),\n      )\n\n      const newTile = {\n        ...tile,\n        tint: newTint,\n        currentFrame: tile.currentFrame + delta,\n      }\n\n      return newTile\n    })))\n  })\n\n  return [].concat(...tiles.map(line => line.map(({ key, x, y, tint }) => (\n    <Tile\n      key={key}\n      x={x}\n      y={y}\n      tint={tint}\n    />\n  ))))\n}\n\nconst Wrapper = (props) => (\n  <ParticleContainer {...props}>\n    <Tiles\n      width={780}\n      height={580}\n    />\n  </ParticleContainer>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect } from 'react'\nimport { Sprite, useTick } from '@inlet/react-pixi'\nimport { easing } from '@2-game/utils'\nimport bunny from './bunny.png'\n\n// const texture = new PIXI.Texture.fromImage(bunny)\n\nconst Bunny = ({\n  x,\n  y,\n  targetX,\n  targetY,\n  speed, // px per seconds\n  easeTime = 'linear',\n  easeX = 'linear',\n  easeY = 'linear',\n  ...props,\n}) => {\n  const [currentFrame, setCurrentFrame] = useState(0)\n  const [target, setTarget] = useState({\n    distance: 0,\n    frames: 0,\n    x: targetX,\n    y: targetY,\n  })\n  const [position, setPosition] = useState({\n    x: x,\n    y: y,\n  })\n\n  useEffect(\n    () => {\n      const distance = Math.sqrt((targetX - x) ** 2 + (targetY - y) ** 2)\n      const frames = distance / (speed / 60)\n\n      setTarget({\n        ...target,\n        distance,\n        frames,\n      })\n\n      setCurrentFrame(0)\n    },\n    [targetX, targetY, x, y, speed],\n  )\n\n  useEffect(\n    () => {\n      if (target.distance === 0) return\n\n      const nextFramePercent = (currentFrame / target.frames)\n      const easeNextFramePercent = easing[easeTime](nextFramePercent)\n      const nextDistance = easeNextFramePercent * target.distance\n\n      const percentDistance = nextDistance / target.distance\n\n      const nextX = ((target.x - x) * easing[easeX](percentDistance)) + x\n      const nextY = ((target.y - y) * easing[easeY](percentDistance)) + y\n\n      setPosition({\n        x: nextX,\n        y: nextY,\n      })\n    },\n    [currentFrame],\n  )\n\n  useTick((delta) => {\n    if (target.distance === 0) return\n    if (target.frames <= currentFrame) return\n\n    setCurrentFrame(currentFrame + delta)\n  })\n\n  return (\n    <Sprite\n      {...props}\n      // texture={texture}\n      image={bunny}\n      // cacheAsBitmap={true}\n      x={position.x}\n      y={position.y}\n      interactive={false}\n      anchor={0.5}\n    />\n  )\n}\n\nexport default Bunny\n","import React, { useState, useEffect } from 'react'\nimport { random } from '@2-game/utils'\nimport { ParticleContainer } from '@inlet/react-pixi'\nimport Bunny from './bunny'\n\nconst getBunnys = (count) => Array\n  .from({ length: count })\n  .map((_, index) => {\n    const x = random(50, 750)\n    const y = random(50, 550)\n    return {\n      key: index,\n      x,\n      y,\n      targetX: random(50, 750),\n      targetY: random(50, 550),\n      speed: random(100, 200),\n      scale: random(0.5, 2),\n      tint: random(0x555555, 0xffffff),\n      easeTime: 'easeOutCubic',\n      easeX: 'easeInCubic',\n      easeY: 'easeInQuint',\n    }\n  })\n\nconst Bunnys = ({ count }) => {\n  const [bunnys, setBunnys] = useState([])\n\n  useEffect(() => {\n    setBunnys(getBunnys(count))\n\n    setInterval(\n      () => {\n        setBunnys(getBunnys(count))\n      },\n      3000,\n    )\n  }, [])\n\n  return bunnys.map(bunny => React.createElement(Bunny, bunny))\n}\n\nconst Wrapper = (props) => (\n  <ParticleContainer>\n    <Bunnys count={10} />\n  </ParticleContainer>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect } from 'react'\nimport { Stage } from '@inlet/react-pixi'\nimport Camera from './camera'\nimport Tiles from './tiles'\nimport Bunnies from './bunnies'\n\nconst App = () => {\n  const [[width, height], setSize] = useState([])\n\n  useEffect(\n    () => {\n      setSize([\n        window.innerWidth - 20,\n        window.innerHeight - 20,\n      ])\n    },\n    []\n  )\n\n\n  if (!width || !height) return false\n  return (\n    <Stage\n      width={width}\n      height={height}\n      options={{\n        autoResize: true,\n        transparent: true,\n        forceFXAA: true,\n        resolution: window.devicePixelRatio,\n        autoDensity: true,\n        roundPixel: false,\n        resizeTo: window,\n      }}\n    >\n      <Bunnies />\n\n      <Camera\n        windowWidth={width}\n        windowHeight={height}\n        width={800}\n        height={600}\n      >\n        <Tiles />\n      </Camera>\n    </Stage >\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.body);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQ4y63VPQ6AIAwGUOAmXsDdAQ8vg7sXcHX1BCgkJeWvBGgTY2zsC0LyKQRRhzmFfR+LL9ejStYgvS4W98x1+/vfh2e5640GMeQANJwN1mBZgpIB8hNTWLp9SQd7MVyKEwsgFxaBHJg/FNhDDixa4SwG84oTyw5lFmuCPRi8qzixKjiKBRA3Z7BiOIxiIRxaOdjCivHVCthKeBQDVnD/Aj5qzqRvxuJvXgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAABY0lEQVR42uxXyw3CMAxtSoEFYALEHalDwApwYAtOwAm4MQUHWAGG4MC5YgKYgI9CHTWldZ0moQVxqCVEZFt+ieM8u4xz7lDCGMsYQl9m6yPFk4v1qRkrJ70b3y88x++wDHioF8rB/MEv2zq5QekjpT+7v4EoaQ1v8fq6a2TsxzMXQfJ8pLjOj+T/gCBNXwM6LOupfygQKAL4wZryUYmn2wkOIAHyfKpiiCW8k49s/3siqgBMbFZVl5cmUxDBgcDemIXzAkhuU5U0EHF7dM8wugcgq3GttLsABsGsDhjk1o8Bd/wuM3rApnRFpk6eUAVme5cidVHgVMTp5inSiU+GGyG1ewDBjc+q6gAk2QhjfdTsdOzuFgHBXbgi1QqoPCAoXdXMBnqTwcX4HUEwXzFElt4mioxcdkABDWTCiW5REJ3N6kS6AYQiYGsgAMHsjiXJ9skuXD3YUoTpvmFV36S2/i8BBgBIxbG+UAC9ywAAAABJRU5ErkJggg==\""],"sourceRoot":""}