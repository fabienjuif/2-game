(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(94),c=n.n(i),u=n(5),o=n(8),s=n(4),l=function(t){var e=t.children,n=t.width,i=t.height,c=t.windowWidth,l=t.windowHeight,f=Object(a.useState)(.4),h=Object(u.a)(f,2),A=h[0],d=h[1],p=Object(a.useState)([(c-n*A)/2,(l-i*A)/2]),g=Object(u.a)(p,2),m=Object(u.a)(g[0],2),w=m[0],v=m[1],O=g[1],b=Object(a.useRef)(null);Object(o.useApp)();return Object(a.useEffect)(function(){b.current.interactive=!0,b.current.hitArea=new s.Rectangle(0,0,n,i),document.body.addEventListener("wheel",function(t){t.preventDefault(),d(function(e){return Math.max(.1,Math.min(3,e-t.deltaY/100))})}),b.current.on("pointerupoutside",function(){b.current.clickStart=void 0,b.current.pinchStart=void 0}),b.current.on("pointerup",function(){b.current.clickStart=void 0,b.current.pinchStart=void 0}),b.current.on("pointermove",function(t){var e=t.data,n=e.global,a=e.buttons;if(t.data.originalEvent.touches&&t.data.originalEvent.touches.length>1){var r=Object(u.a)(t.data.originalEvent.touches,2),i=r[0],c=i.clientX,o=i.clientY,s=r[1],l=s.clientX,f=s.clientY,h=Math.pow(l-c,2)+Math.pow(f-o,2);return b.current.pinchStart&&d(function(t){return Math.max(.1,Math.min(3,t+(h-b.current.pinchStart)/1e5))}),void(b.current.pinchStart=h)}if(0!==a){var A=n.x,p=n.y;if(b.current.clickStart){var g=Object(u.a)(b.current.clickStart,2),m=g[0],w=g[1];O(function(t){var e=Object(u.a)(t,2),n=e[0],a=e[1];return[n+A-m,a+p-w]})}b.current.clickStart=[A,p]}})},[]),r.a.createElement(o.Container,{ref:b,x:w,y:v,scale:A},e)},f=n(97),h=n(21),A=function(t,e){return Math.random()*(e-t)+t},d=function(t){return[t>>16&255,t>>8&255,255&t]},p={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeInElastic:function(t){return(.04-.04/t)*Math.sin(25*t)+1},easeOutElastic:function(t){return.04*t/--t*Math.sin(25*t)},easeInOutElastic:function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(90*t):(.02-.01/t)*Math.sin(90*t)+1},easeInSin:function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},easeOutSin:function(t){return Math.sin(Math.PI/2*t)},easeInOutSin:function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}},g=n(95),m=n.n(g),w=function(t){return r.a.createElement(o.Sprite,Object.assign({image:m.a,anchor:.5},t))},v=function(t){switch(t){case"player1":return 13377568;case"player2":return 2105548;default:return 16777215}},O=function(t){var e,n=t.width,i=t.height,c=Object(a.useState)(function(t,e){for(var n=[],a=Math.ceil(A(0,Math.ceil(t/20))),r=Math.ceil(A(0,Math.ceil(e/15))),i={x:Math.ceil(A(0,Math.ceil(t/20))),y:Math.ceil(A(0,Math.ceil(e/15)))};i.x===a;)i.x=A(0,Math.floor(t/20));for(var c=0;c<Math.floor(t/20);c+=1){var u=[];n.push(u);for(var o=0;o<Math.floor(e/15);o+=1){var s=void 0;a===c&&r===o&&(s="player1"),i.x===c&&i.y===o&&(s="player2"),u.push({key:"".concat(c,"-").concat(o),x:20*c+o%2*10,y:15*o,player:s,tint:v(s)})}}return n}(n,i)),s=Object(u.a)(c,2),l=s[0],g=s[1],m=Object(a.useState)(Date.now()),O=Object(u.a)(m,2),b=O[0],y=O[1];return Object(o.useTick)(function(t){g(function(t,e,n){return Date.now()-e<500?t:(n(Date.now()),t.map(function(e,n){return e.map(function(a,r){var i=a.player?a.player:t[n-1]&&t[n-1][r]&&t[n-1][r].player?t[n-1][r].player:t[n+1]&&t[n+1][r]&&t[n+1][r].player?t[n+1][r].player:e[r-1]&&e[r-1].player?e[r-1].player:e[r+1]&&e[r+1].player?e[r+1].player:void 0,c=Object(h.a)({},a);if(a.player!==i){var o=v(i),s=d(o),l=Object(u.a)(s,3),f=l[0],A=l[1],p=l[2];c.player=i,c.currentFrame=0,c.targetFrame=20,c.previousTint=a.tint||16777215,c.targetTint=o,c.targetR=f,c.targetG=A,c.targetB=p,c.tint=16777215}return c})}))}(l,b,y).map(function(e,n){return e.map(function(e,n){if(void 0===e.targetFrame)return e;if(e.currentFrame>=e.targetFrame)return e;var a,r,i=(e.currentFrame+t)/e.targetFrame,c=Math.min(1,p.linear(i)),o=d(e.previousTint),s=Object(u.a)(o,3),l=s[0],f=s[1],A=s[2],g=function(t,e){var n=e-t;if(0===n)return t;var a=c*n+t;return Math.round(a)},m=(a=g(l,e.targetR),r=g(f,e.targetG),g(A,e.targetB)|r<<8|a<<16);return Object(h.a)({},e,{tint:m,currentFrame:e.currentFrame+t})})}))}),(e=[]).concat.apply(e,Object(f.a)(l.map(function(t){return t.map(function(t){var e=t.key,n=t.x,a=t.y,i=t.tint;return r.a.createElement(w,{key:e,x:n,y:a,tint:i})})})))},b=function(t){return r.a.createElement(o.ParticleContainer,t,r.a.createElement(O,{width:780,height:580}))},y=n(98),j=n(96),M=n.n(j),E=function(t){var e=t.x,n=t.y,i=t.targetX,c=t.targetY,s=t.speed,l=t.easeTime,f=void 0===l?"linear":l,A=t.easeX,d=void 0===A?"linear":A,g=t.easeY,m=void 0===g?"linear":g,w=Object(y.a)(t,["x","y","targetX","targetY","speed","easeTime","easeX","easeY"]),v=Object(a.useState)(0),O=Object(u.a)(v,2),b=O[0],j=O[1],E=Object(a.useState)({distance:0,frames:0,x:i,y:c}),x=Object(u.a)(E,2),S=x[0],B=x[1],k=Object(a.useState)({x:e,y:n}),Q=Object(u.a)(k,2),I=Q[0],C=Q[1];return Object(a.useEffect)(function(){var t=Math.sqrt(Math.pow(i-e,2)+Math.pow(c-n,2)),a=t/(s/60);B(Object(h.a)({},S,{distance:t,frames:a})),j(0)},[i,c,e,n,s]),Object(a.useEffect)(function(){if(0!==S.distance){var t=b/S.frames,a=p[f](t)*S.distance/S.distance,r=(S.x-e)*p[d](a)+e,i=(S.y-n)*p[m](a)+n;C({x:r,y:i})}},[b]),Object(o.useTick)(function(t){0!==S.distance&&(S.frames<=b||j(b+t))}),r.a.createElement(o.Sprite,Object.assign({},w,{image:M.a,x:I.x,y:I.y,interactive:!1,anchor:.5}))},x=function(t){return Array.from({length:t}).map(function(t,e){return{key:e,x:A(50,750),y:A(50,550),targetX:A(50,750),targetY:A(50,550),speed:A(100,200),scale:A(.5,2),tint:A(5592405,16777215),easeTime:"easeOutCubic",easeX:"easeInCubic",easeY:"easeInQuint"}})},S=function(t){var e=t.count,n=Object(a.useState)([]),i=Object(u.a)(n,2),c=i[0],o=i[1];return Object(a.useEffect)(function(){o(x(e)),setInterval(function(){o(x(e))},3e3)},[]),c.map(function(t){return r.a.createElement(E,t)})},B=function(t){return r.a.createElement(o.ParticleContainer,null,r.a.createElement(S,{count:10}))},k=function(){var t=Object(a.useState)([]),e=Object(u.a)(t,2),n=Object(u.a)(e[0],2),i=n[0],c=n[1],s=e[1];return Object(a.useEffect)(function(){s([window.innerWidth-20,window.innerHeight-20])},[]),!(!i||!c)&&r.a.createElement(o.Stage,{width:i,height:c,options:{autoResize:!0,transparent:!0,forceFXAA:!0,resolution:window.devicePixelRatio,autoDensity:!0,roundPixel:!1,resizeTo:window}},r.a.createElement(B,null),r.a.createElement(l,{windowWidth:i,windowHeight:c,width:800,height:600},r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.body),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},95:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQ4y63VPQ6AIAwGUOAmXsDdAQ8vg7sXcHX1BCgkJeWvBGgTY2zsC0LyKQRRhzmFfR+LL9ejStYgvS4W98x1+/vfh2e5640GMeQANJwN1mBZgpIB8hNTWLp9SQd7MVyKEwsgFxaBHJg/FNhDDixa4SwG84oTyw5lFmuCPRi8qzixKjiKBRA3Z7BiOIxiIRxaOdjCivHVCthKeBQDVnD/Aj5qzqRvxuJvXgAAAABJRU5ErkJggg=="},96:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAABY0lEQVR42uxXyw3CMAxtSoEFYALEHalDwApwYAtOwAm4MQUHWAGG4MC5YgKYgI9CHTWldZ0moQVxqCVEZFt+ieM8u4xz7lDCGMsYQl9m6yPFk4v1qRkrJ70b3y88x++wDHioF8rB/MEv2zq5QekjpT+7v4EoaQ1v8fq6a2TsxzMXQfJ8pLjOj+T/gCBNXwM6LOupfygQKAL4wZryUYmn2wkOIAHyfKpiiCW8k49s/3siqgBMbFZVl5cmUxDBgcDemIXzAkhuU5U0EHF7dM8wugcgq3GttLsABsGsDhjk1o8Bd/wuM3rApnRFpk6eUAVme5cidVHgVMTp5inSiU+GGyG1ewDBjc+q6gAk2QhjfdTsdOzuFgHBXbgi1QqoPCAoXdXMBnqTwcX4HUEwXzFElt4mioxcdkABDWTCiW5REJ3N6kS6AYQiYGsgAMHsjiXJ9skuXD3YUoTpvmFV36S2/i8BBgBIxbG+UAC9ywAAAABJRU5ErkJggg=="},99:function(t,e,n){t.exports=n(206)}},[[99,1,2]]]);
//# sourceMappingURL=main.10b93551.chunk.js.map