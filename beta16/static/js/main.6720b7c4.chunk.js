(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(25);t.default=function(e,t){var n=function(t){return A.isSamePlayerAround(e.tiles)(t.x,t.y,e.turn)&&(t.player!==e.turn||void 0===t.unit||"tree"===t.unit)};if("house"===t)return r({},e,{tiles:e.tiles.map(function(t){return t.map(function(t){return r({},t,{available:n(t)&&t.player===e.turn&&void 0===t.unit})})})});if("villager"===t)return r({},e,{tiles:e.tiles.map(function(t){return t.map(function(t){return r({},t,{available:n(t)&&(void 0===t.unit||"tree"===t.unit)&&!A.isOneOfEnemyUnitsAround(e.tiles)(t.x,t.y,e.turn,["soldier","king"])})})})});if("soldier"===t)return r({},e,{tiles:e.tiles.map(function(t){return t.map(function(t){return r({},t,{available:n(t)&&(void 0===t.unit||!["soldier","king"].includes(t.unit))&&!A.isOneOfEnemyUnitsAround(e.tiles)(t.x,t.y,e.turn,["king"])})})})});if("king"===t)return r({},e,{tiles:e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:n(e)})})})});throw new Error("Unknown unit while looking for availabilities: "+t)}},103:function(e,t,n){"use strict";(function(e){t.__esModule=!0;var r=n(220),A=n(222),a=n(229);t.default=function(t){var n=r.createStore(A.default,function(){if(("undefined"===typeof e||!Object({NODE_ENV:"production",PUBLIC_URL:"/2-game/beta16"}))&&"undefined"!==typeof window)return window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__({name:"engine"}):void 0}());n.dispatch(a.generate(t));var i=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var A=n.getState();return n.dispatch(e.apply(void 0,t)),[A!==n.getState(),n.getState()]}};return{subscribe:n.subscribe,getState:n.getState,selectAsset:i(a.selectAsset),next:i(a.next),actionOnTile:function(e){if(void 0!==n.getState().selectedAsset){var t=function(e){return e.players.find(function(t){return t.name===e.turn}).gold},r=t(n.getState());if((A=i(a.dropAsset)(e))[0]&&r!==t(A[1]))return A}if(n.getState().selectedUnit){var A,u=n.getState().selectedUnit,c=u.x,o=u.y;if((A=i(a.moveUnit)(e))[0]&&void 0===A[1].tiles[o][c].unit)return A}return i(a.selectUnit)(e)}}}}).call(this,n(73))},105:function(e,t){e.exports="data:image/png;base64,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"},106:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEUAAAAcEDAcEDAXBiXlUUStMDjBQDzcWEvzdmWPHi/ji2v/k355HC/SVlHjmm7ms33/5qDggF/fbVbbWErNjH5YAA6ZBxm+ChvsFiv/WGP///8kX5TdAAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QadWfkMgAAAAd0SU1FB+IDBwApN7HUaKQAAACaSURBVBjTPU4JDoMwDAsLCXgEWFuO7f8fndNJkyondu26oqoiov8hOhrBfPIcI2GGK3x6UnHM9OkCWDoMWDInGhZUCNG5qIeGd/gZ4Gts+2uP1a1XwVBqKWXnTRcMrWrl2ZCZNHhFK6iNK/+BgHn1Vpojn6WDve6WPd0RCD3O6z6PvsrAQfr+3NdJPggV7Qq5JqfyUGaY0Af5F4eCB/DB6bEGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII="},107:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAXVBMVEUAAAAcEDAcEDAXBiUFEioFEim7ngVqQgWDWgXeygmigwVNLgBqQQWfgQVpQQXCOxbWXxXCOxf7mBu3XxX7lRu3YBX/8SLSjBb/zCm4YBX/zynwZg78lxvvZQ7////vpxk8AAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QecgogKwAAAAd0SU1FB+IDBwApN7HUaKQAAABzSURBVBjTVYwLDoMwDEMDztqwjkFZC/tx/2uuRVNlHCnSs14iIgJRQV3/XBw8nOnQGr1WdtoKWBhuNjYuyt0pM8xbsBFkqA9KRnGmGSeOyyOBOeV1owZzfG5rBl+83nmh4hO/OUU29jqnr/vE3PUo6bsDfh8aBM6URbAwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII="},108:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAMFBMVEUAAAAcEDAcEDAXBiXQVB7nijvecjD9qUz9rFH/vmL/64r/u3Llg0LSVjHdhkb///9TGBy3AAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QPGLoA2QAAAAd0SU1FB+IDBwApN7HUaKQAAABcSURBVAjXY2DADgygNLMzlDYJMYDQqe7OYDrdtaTEAMQPCQ9zdWYwjejonDmjM5iBefXZ00A0mcE2dXUuEDXDRIIhajpaDRiEjY3tjI2NFRkYBQWFLQ0FoXYAMQBl/R1u5y40XgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMJImYPsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDMtMDZUMjM6NDE6NTUrMDE6MDDje9hHAAAAAElFTkSuQmCC"},109:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAOVBMVEUAAAAcEDAcEDAXBiXqRUr/fWL/vGv/3IODi9KfsNCmzeiiAg7SIy/ACxP/UFb/7tXbkJDjxKP///8zPESvAAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QSe7xsAAAAAAd0SU1FB+IDBwApN7HUaKQAAAB9SURBVBjTZY2BDsMgCERtEarlwPb/f3aI3bJsF8RweXClFPpSCVFlZjlE4quURpXKUdF4Ia310Hn29l55EKlCzxz4kSvpKIvOB825kKkDDh9umobjudphi0C77tDowDK8XR4a3ReBP+L3htrMyKCZsu0Esyi3SN23dD6K+QU0sgbmCTQAEwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMJImYPsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDMtMDZUMjM6NDE6NTUrMDE6MDDje9hHAAAAAElFTkSuQmCC"},110:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAP1BMVEUAAAAcEDAXBiXWlV//35L//uj0wYbthQ7/sA7/sQ7sdQ7/yA7/8jb/35H//sbZVwDshA7/2Y7//sf/2o7///9MFyYBAAAAAnRSTlMAQABPjKgAAAABYktHRBSS38k1AAAAB3RJTUUH4gMHACk3sdRopAAAAHdJREFUGNOdz8kKQzEIBdA43EyvMS/p//9rjYvSQld1IdwDKqb0V3HURxYFVN7IWUttQGBk9HY92iitYbiwYZZ63b26YrFvMJ29jFCAE/mMKmzM7nkdkLz3U8xg2EzpyMp+UobtdcCFmci7WGQXCnei7xeIfj32AspkA6uYqfR3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII="},111:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAACXBIWXMAAAk6AAAJOgHwZJJKAAAEV0lEQVR42u3bsU3DQBiA0TNighSMERcYZqFgAxooYQ/ooKJgBsIE4BT2GBSsEEQEBBnsBIUE3/m9KrYSn3VS9Om35BAAAAC2JbMFEEL1VJVVOZst+15+kBd5kfnfgIAgGOsRFAQEhENIQEBg88EQFBAQBENQQEAQjv6FQ1AQEBAMIQEBQTAEBQQEwRAUEBAQDkFBQEAwBAUBAcEQEhAQBENQQEAQDgQFAUEwEBQEBMFASBAQEA5BAQFBMBAUBATBQFAQEAQDIUFAEA4ERVAEBMEAQUFABEMwEBQEBMFASBAQhAMERUAQDBAUAUEwQFAQEMEAIUFAhAMQFAFBMEBQBATBAEEREIQDhAQBEQxAUAREMABBERDBAARFQIQDEBIERDAAQREQwQAERUAEAxAUAREOQEgERDAABCXlgAgGICgCIhiAoAiIcACkFpJoblgwAEEREMEASCAovbsh4QCIIyj/fgOCARBnSLa+sGAApBGUrS0kHABpBWXtC19fTu7PTxfHxeHe6OhYKABSD8qvL9QMhnAADDMoS38oGACCslJAZnMh3Fw9TC7OBANgqMbFeH+8n51kc+GqNSDNcAgGAF9C8m5xfvcjHCYNALo0e7FjSwDoUpf1tJ5+Hyx22kYVWwZAFxMIAJ3aBgsBAcAEAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgILYAAAEBQEAAEBAABAQABAQAAQFAQAAQEAAEBAAEBAABAWDLsrkQdm0FAD/JD/IiL95S8TMBAWClYDR5hAUgHL8Kh4AAsJbP4szmQqjLelpP3z4BYPJYISAfri8n9+eni+PicG90dCwoAEMPRtPSR1jl4/PL3e3fLQhA3OFonUDaJpEmkwnAMMOxNCDrqp6qsioFBiC1cGw8IMICkFYw/j0gggIQdzh6ExAhAYgjGL0NiKAA9DsY0QREUADB6Ldo3+8QFEA4BERIAMGIUHJvmAsKIBgCIiiAYAiIkADCISCCAjDIYAiIoACCISCCAgiGgAgJIBwCIiiAYAgIggKCgYAICgiHcAiIkACCISCCAgiGgCAoIBgCgqCAcCAgQgKCgYAICggGAoKggGAICEICwiEgCAoIBgIiKIKCYCAgCArCgYAgJAgGAoKgIBgICAgKgoGAICgIBwKCkCAYCAiCgmAgICAogoGAgKAIBwgIQoJgICAICoKBgICgCAYCAkIiHCAgCIpggIAgKIIBAgLDC4pwICAgJIKBgICgCAZ0eQWeV3YosCu2SQAAAABJRU5ErkJggg=="},112:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABEAYAAABPhRjKAAAACXBIWXMAAAAnAAAAJwEqCZFPAAAAEklEQVQI12N4G/Pm1tv5//8DABxNBpqWcbAGAAAAAElFTkSuQmCC"},114:function(e,t,n){e.exports=n(232)},222:function(e,t,n){"use strict";t.__esModule=!0;var r=n(223),A=n(224),a=n(225),i=n(226),u=n(227),c=n(228),o={tiles:[],players:[],selectedAsset:void 0,selectedUnit:void 0,turn:"player1"};t.default=function(e,t){switch(void 0===e&&(e=o),t.type){case"GENERATE":return r.default(t.payload);case"SELECT_ASSET":return A.default(e,t.payload);case"DROP_ASSET":if(!e.selectedAsset)return e;var n=A.default(e,e.selectedAsset);return n=a.default(n,t.payload),A.default(n,e.selectedAsset);case"SELECT_UNIT":return u.default(e,t.payload);case"MOVE_UNIT":return c.default(e,t.payload);case"NEXT":return i.default(e);default:return e}}},223:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(6),a=n(25),i=function(e){var t=e.players,n=e.tiles;if(t.length<1)return!1;var r=new Map,A=new Map;return n.forEach(function(e){return e.forEach(function(e){e.player&&(e.empty||(r.set(e.player,(r.get(e.player)||0)+1),e.unit||A.set(e.player,(A.get(e.player)||0)+1)))})}),r.size===t.length&&(A.size===t.length&&(!(r.values().next().value<6)&&(!(A.values().next().value<2)&&(!(new Set(r.values()).size>1)&&!(new Set(A.values()).size>1)))))},u=function(e){var t=function e(t){var n=t.width,r=t.height,a=t.players,i=Array.from({length:a}).map(function(e,t){return{name:"player"+(t+1),gold:10,x:A.random(0,n),y:A.random(0,r)}}),u=new Set;if(i.forEach(function(e){var t=e.x,n=e.y;return u.add([t,n])}),u.size<a)return console.log("Not all players are on the board, retrying..."),e(t);for(var c,o,s=0;s<i.length;s+=1)for(var l=s+1;l<i.length;l+=1)if(c=i[s],o=i[l],Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2))<6)return e(t);return i}(e);return{tiles:function(e){return function(t){for(var n=e.width,A=e.height,i=[],u=function(e){var r=[];i.push(r);for(var a=function(a){var i=t.find(function(t){return t.x===a&&t.y===e}),u=void 0;Math.random()<=.05&&(u="tree"),r.push({x:a,y:e,unit:u,available:!0,empty:!i&&Math.random()<=Math.max(.1,1/(Math.min(e,Math.abs(e-A))+Math.min(a,Math.abs(a-n))+1)),player:i?i.name:void 0,gold:void 0===u?1:0,played:!1})},u=0;u<n;u+=1)a(u)},c=0;c<A;c+=1)u(c);return i=i.map(function(e){return e.map(function(e){if(e.empty)return e;var n=t.find(function(t){var n=t.name;return a.isSamePlayerAround(i)(e.x,e.y,n)});return r({},e,{player:n?n.name:void 0})})})}}(e)(t),players:t,selectedAsset:void 0,selectedUnit:void 0,turn:"player1"}};t.default=function(e){for(var t={players:[],tiles:[],selectedAsset:void 0,selectedUnit:void 0,turn:"player1"},n=-1,A=-1,a=e.width,c=e.height;!i(t);)A+=1,(n+=1)>100&&(n=0,a=Math.round(1.2*a),c=Math.round(1.2*c)),t=u(r({},e,{width:a,height:c}));return A>100&&console.log("Generating state took more than 100 retries:",A,e,{width:a,height:c}),t}},224:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(25),a=n(101);t.default=function(e,t){var n=A.getUnitCost(t),i=e.players.find(function(t){return t.name===e.turn});return!i||i.gold<n?r({},e,{tiles:e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:!0})})}),selectedAsset:void 0,selectedUnit:void 0}):a.default(r({},e,{selectedAsset:t,selectedUnit:void 0}),t)}},225:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(25);t.default=function(e,t){if(void 0===e.selectedAsset)return function(e){return r({},e,{selectedAsset:void 0,tiles:e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:!0})})})})}(e);var n=!1,a=e.tiles.map(function(a){return a.map(function(a){return t.x===a.x&&t.y===a.y&&a.available?(n=!0,r({},a,{played:a.player!==e.turn||void 0!==a.unit,available:!1,unit:e.selectedAsset,player:e.turn,gold:A.getUnitBalance(e.selectedAsset)+1})):a})});return r({},e,{tiles:a,players:e.players.map(function(t){return n?t.name!==e.turn?t:r({},t,{gold:t.gold-A.getUnitCost(e.selectedAsset)}):t})})}},226:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(6),a=n(25);t.default=function(e){var t=e.players.findIndex(function(t){return t.name===e.turn})+1;e.players.length===t&&(t=0);var n=e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:!0,played:!1,unit:"grave"===e.unit?void 0:e.unit})})}),i=0;e.tiles.forEach(function(t){return t.forEach(function(t){t.player===e.turn&&(i+=t.gold)})});var u=e.players.find(function(t){return t.name===e.turn});u&&u.gold+i<0&&(n=n.map(function(t){return t.map(function(t){return t.player!==e.turn?t:void 0===t.unit?t:["house","tree"].includes(t.unit)?t:r({},t,{gold:1,unit:"grave"})})}));var c=[];return n.forEach(function(e){return e.forEach(function(e){if("tree"===e.unit&&!(Math.random()>.1)){var t=a.getEmptyTilesAround(n)(e.x,e.y);if(0!==t.length){var r=t[A.random(0,t.length-1)],i=r[0],u=r[1];c.push(n[u][i])}}})}),n=n.map(function(e){return e.map(function(e){return c.includes(e)?r({},e,{unit:"tree"}):e})}),r({},e,{tiles:n,selectedAsset:void 0,selectedUnit:void 0,turn:e.players[t].name,players:e.players.map(function(t){return t.name!=e.turn?t:r({},t,{gold:t.gold+i})})})}},227:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=n(101);t.default=function(e,t){var n=t.x,a=t.y;if(!e.tiles[a]||!e.tiles[a][n]||void 0===e.tiles[a][n].unit||e.tiles[a][n].played||e.tiles[a][n].player!==e.turn||["tree","house"].includes(e.tiles[a][n].unit))return function(e){return r({},e,{tiles:e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:!0})})})})}(e);var i=e.tiles[a][n].unit,u=A.default(r({},e,{selectedUnit:t,selectedAsset:void 0}),i);return r({},u,{tiles:u.tiles.map(function(e){return e.map(function(e){return e.available?r({},e,{available:Math.sqrt(Math.pow(e.x-n,2)+Math.pow(e.y-a,2))<5}):e})})})}},228:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var A in t=arguments[n])Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A]);return e}).apply(this,arguments)};t.__esModule=!0;var A=function(e){return r({},e,{tiles:e.tiles.map(function(e){return e.map(function(e){return r({},e,{available:!0})})})})};t.default=function(e,t){return void 0===e.selectedUnit?A(e):e.tiles[t.y][t.x].available?r({},e,{tiles:e.tiles.map(function(n){return n.map(function(n){if(!e.selectedUnit||(n.x!==t.x||n.y!==t.y)&&(n.x!==e.selectedUnit.x||n.y!==e.selectedUnit.y))return r({},n,{available:!0});if(n.x===e.selectedUnit.x&&n.y===e.selectedUnit.y)return r({},n,{available:!0,gold:1,played:!0,unit:void 0});var A=e.tiles[e.selectedUnit.y][e.selectedUnit.x],a=A.unit,i=A.gold,u=A.player;return r({},n,{played:!0,available:!0,unit:a,gold:i,player:u})})}),selectedUnit:void 0}):A(r({},e,{selectedUnit:void 0}))}},229:function(e,t,n){"use strict";t.__esModule=!0,t.generate=function(e){var t=e.width,n=e.height,r=e.players;return{type:"GENERATE",payload:{players:void 0===r?2:r,width:t,height:n}}},t.selectAsset=function(e){return{type:"SELECT_ASSET",payload:e}},t.dropAsset=function(e){return{type:"DROP_ASSET",payload:e}},t.next=function(){return{type:"NEXT"}},t.selectUnit=function(e){return{type:"SELECT_UNIT",payload:e}},t.moveUnit=function(e){return{type:"MOVE_UNIT",payload:e}}},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var r=n(0),A=n.n(r),a=n(102),i=n.n(a),u=n(3),c=n(5),o=n(18),s=n(7),l=function(e){var t=e.children,n=e.width,a=e.height,i=e.windowWidth,l=e.windowHeight,g=Object(o.a)(e,["children","width","height","windowWidth","windowHeight"]),d=Object(r.useState)(Math.min(i/(20*n+100),l/(15*a+100))),f=Object(u.a)(d,2),p=f[0],E=f[1],v=Object(r.useState)([(i-n*p*20)/2,(l-15*a*p)/2]),y=Object(u.a)(v,2),C=Object(u.a)(y[0],2),h=C[0],m=C[1],B=y[1],w=Object(r.useRef)(null);return Object(r.useEffect)(function(){w.current.interactive=!0,w.current.hitArea=new s.Rectangle(0,0,20*n,20*a),document.body.addEventListener("wheel",function(e){e.preventDefault(),E(function(t){return Math.max(.1,Math.min(3,t-e.deltaY/100))})}),w.current.on("pointerupoutside",function(){w.current.clickStart=void 0,w.current.pinchStart=void 0}),w.current.on("pointerup",function(){w.current.clickStart=void 0,w.current.pinchStart=void 0}),w.current.on("pointermove",function(e){var t=e.data,n=t.global,r=t.buttons;if(e.data.originalEvent.touches&&e.data.originalEvent.touches.length>1){var A=Object(u.a)(e.data.originalEvent.touches,2),a=A[0],i=a.clientX,c=a.clientY,o=A[1],s=o.clientX,l=o.clientY,g=Math.pow(s-i,2)+Math.pow(l-c,2);return w.current.pinchStart&&E(function(e){return Math.max(.1,Math.min(3,e+(g-w.current.pinchStart)/1e5))}),void(w.current.pinchStart=g)}if(0!==r){var d=n.x,f=n.y;if(w.current.clickStart){var p=Object(u.a)(w.current.clickStart,2),v=p[0],y=p[1];B(function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return[n+d-v,r+f-y]})}w.current.clickStart=[d,f]}})},[]),A.a.createElement(c.Container,Object.assign({},g,{ref:w,x:h,y:m,scale:p}),t)},g=n(113),d=n(11),f=n(6),p=n(31),E=n(103),v=n.n(E),y=Object(r.createContext)(),C=function(e){var t=e.children,n=e.width,a=e.height,i=Object(r.useRef)(v()({width:n,height:a,players:2})).current,c=Object(r.useState)(i.getState()),o=Object(u.a)(c,2),s=o[0],l=o[1],g=Object(r.useState)({player1:0,player2:0}),f=Object(u.a)(g,2),E=f[0],C=f[1];return Object(r.useLayoutEffect)(function(){i.subscribe(function(){s!==i.getState()&&l(i.getState())})},[]),Object(r.useLayoutEffect)(function(){var e=s.players.reduce(function(e,t){var n=t.name;return Object(d.a)({},e,Object(p.a)({},n,0))},{});s.tiles.forEach(function(t){return t.forEach(function(t){t.player&&(t.empty||(e[t.player]+=t.gold))})}),C(e)},[s]),A.a.createElement(y.Provider,{value:Object(d.a)({},s,{balances:E,setNewAsset:i.selectAsset,actionOnTile:i.actionOnTile,next:i.next})},t)},h=y,m=n(105),B=n.n(m),w=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:B.a,anchor:"0.5",x:0,y:0,scale:.05}))},I=n(106),M=n.n(I),O=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:M.a,anchor:"0.5",x:0,y:0,scale:.7}))},b=n(107),j=n.n(b),Q=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:j.a,anchor:"0.5",x:0,y:0,scale:.7}))},S=n(108),U=n.n(S),x=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:U.a,anchor:"0.5",x:0,y:0,scale:.7}))},D=n(109),L=n.n(D),G=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:L.a,anchor:"0.5",x:0,y:0,scale:.7}))},T=n(110),R=n.n(T),F=function(e){return A.a.createElement(c.Sprite,Object.assign({},e,{image:R.a,anchor:"0.5",x:0,y:0,scale:.7}))},Y=n(111),W=n.n(Y),k=function(e){var t=e.name,n=e.playable,r=Object(o.a)(e,["name","playable"]),a=n?1:.5;switch(t){case"tree":return A.a.createElement(w,r);case"house":return A.a.createElement(x,r);case"villager":return A.a.createElement(O,Object.assign({},r,{alpha:a}));case"soldier":return A.a.createElement(Q,Object.assign({},r,{alpha:a}));case"king":return A.a.createElement(G,Object.assign({},r,{alpha:a}));case"grave":return A.a.createElement(F,r);default:return null}},Z=function(e){var t=e.x,n=e.y,a=e.tint,i=void 0===a?16777215:a,o=e.available,s=e.unit,l=e.empty,g=e.played;if(l)return null;var d=Object(r.useContext)(h).actionOnTile,p=Object(r.useState)(i),E=Object(u.a)(p,2),v=E[0],y=E[1],C=Object(r.useState)(1),m=Object(u.a)(C,2),B=m[0],w=m[1],I=Object(r.useRef)(void 0),M=function(){y(i),w(o?1:.6)};Object(r.useEffect)(M,[i,o]);return A.a.createElement(c.Container,{x:20*t+n%2*10,y:15*n,interactive:!0,pointerdown:function(e){I.current=Date.now()},pointerup:function(e){I.current&&(I.current>Date.now()-200&&d({x:t,y:n}),I.current=void 0)},pointerover:function(){o&&y(Object(f.darker)(v))},pointerout:function(){M()},alpha:B},A.a.createElement(c.Sprite,{image:W.a,anchor:.5,scale:.1,x:0,y:0,tint:v}),A.a.createElement(k,{name:s,playable:!g}))},z=function(e){switch(e){case"player1":return 13377568;case"player2":return 2105548;default:return 16777215}},N=function(){var e,t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],o=Object(r.useContext)(h).tiles;return Object(c.useTick)(function(e){i(o.map(function(t){return t.map(function(t){if(!a[t.y]||!a[t.y][t.x])return Object(d.a)({},t,{tint:z(t.player)});var n=a[t.y][t.x];if(n.player!==t.player){var r=Object(f.hexRgb)(z(t.player)),A=Object(u.a)(r,3),i=A[0],c=A[1],o=A[2];return Object(d.a)({},t,{targetR:i,targetG:c,targetB:o,targetFrame:10,currentFrame:0,previousPlayer:n.player})}if(void 0===n.targetFrame)return Object(d.a)({},n,t);if(n.currentFrame>=n.targetFrame)return Object(d.a)({},n,t);var s=(n.currentFrame+e)/n.targetFrame,l=Math.min(1,f.easing.linear(s)),g=Object(f.hexRgb)(z(n.previousPlayer)),p=Object(u.a)(g,3),E=p[0],v=p[1],y=p[2],C=function(e,t){var n=t-e;if(0===n)return e;var r=l*n+e;return Math.round(r)},h=Object(f.rgbHex)(C(E,n.targetR),C(v,n.targetG),C(y,n.targetB));return Object(d.a)({},n,t,{tint:h,currentFrame:n.currentFrame+e})})}))}),(e=[]).concat.apply(e,Object(g.a)(a.map(function(e){return e.map(function(e){return A.a.createElement(Z,Object.assign({key:"".concat(e.x,"-").concat(e.y)},e))})})))},P=function(e){return A.a.createElement(c.Container,e,A.a.createElement(N,null))},H=n(112),V=n.n(H),J=Object(r.memo)(function(e){var t=e.x,n=e.y,a=e.targetX,i=e.targetY,s=e.speed,l=e.easeTime,g=void 0===l?"linear":l,p=e.easeX,E=void 0===p?"linear":p,v=e.easeY,y=void 0===v?"linear":v,C=Object(o.a)(e,["x","y","targetX","targetY","speed","easeTime","easeX","easeY"]),h=Object(r.useState)(0),m=Object(u.a)(h,2),B=m[0],w=m[1],I=Object(r.useState)({distance:0,frames:0,x:a,y:i}),M=Object(u.a)(I,2),O=M[0],b=M[1],j=Object(r.useState)({x:t,y:n}),Q=Object(u.a)(j,2),S=Q[0],U=Q[1];return Object(r.useEffect)(function(){var e=Math.sqrt(Math.pow(a-t,2)+Math.pow(i-n,2)),r=e/(s/60);b(Object(d.a)({},O,{distance:e,frames:r})),w(0)},[a,i,t,n,s]),Object(r.useEffect)(function(){if(0!==O.distance){var e=B/O.frames,r=f.easing[g](e)*O.distance/O.distance,A=(O.x-t)*f.easing[E](r)+t,a=(O.y-n)*f.easing[y](r)+n;U({x:A,y:a})}},[B]),Object(c.useTick)(function(e){0!==O.distance&&(O.frames<=B||w(B+e))}),A.a.createElement(c.Sprite,Object.assign({},C,{image:V.a,x:S.x,y:S.y,anchor:.5}))}),K=function(e,t,n){return Array.from({length:e}).map(function(e,r){return{key:r,x:Object(f.random)(50,t-100),y:Object(f.random)(50,n-100),targetX:Object(f.random)(50,t-100),targetY:Object(f.random)(50,n-100),speed:Object(f.random)(5,10),scale:Object(f.random)(.5,3),easeTime:"easeOutCubic",easeX:"easeInCubic",easeY:"easeInQuint"}})},X=function(e){var t=e.count,n=void 0===t?20:t,a=e.windowWidth,i=e.windowHeight,o=Object(r.useState)(K(n,a,i)),s=Object(u.a)(o,2),l=s[0],g=s[1],d=Object(r.useState)(0),p=Object(u.a)(d,2),E=p[0],v=p[1],y=Object(r.useState)(E+400),C=Object(u.a)(y,2),h=C[0],m=C[1],B=Object(r.useState)(!0),w=Object(u.a)(B,2),I=w[0],M=w[1],O=Object(r.useState)(0),b=Object(u.a)(O,2),j=b[0],Q=b[1];return Object(c.useTick)(function(e){v(function(t){return t+e})}),Object(r.useLayoutEffect)(function(){h<=E&&(m(function(e){return e+400}),M(function(e){return!e}),I&&g(K(n,a,i))),h&&Q(I?Math.max(2236962,Object(f.darker)(16777215,f.easing.easeOutCubic((h-E)/400))):Math.max(2236962,Object(f.darker)(16777215,f.easing.easeInCubic(1-(h-E)/400))))},[E,I,h]),A.a.createElement(c.ParticleContainer,{tint:j},l.map(function(e){return A.a.createElement(J,e)}))},q=(n(230),function(e){var t=e.width,n=e.height,a=Object(r.useState)([]),i=Object(u.a)(a,2),o=Object(u.a)(i[0],2),s=o[0],g=o[1],d=i[1],f=Object(r.useState)(null),p=Object(u.a)(f,2),E=p[0],v=p[1],y=Object(r.useRef)(void 0);return Object(r.useEffect)(function(){d([window.innerWidth-20,window.innerHeight-20])},[]),Object(r.useLayoutEffect)(function(){E!==y.current&&v(y.current)}),!(!s||!g)&&A.a.createElement(h.Consumer,null,function(e){return A.a.createElement(c.Stage,{width:s,height:g,options:{autoResize:!0,transparent:!0,forceFXAA:!0,resolution:window.devicePixelRatio,autoDensity:!0,roundPixel:!1,resizeTo:window}},A.a.createElement(h.Provider,{value:e},A.a.createElement(X,{windowWidth:s,windowHeight:g}),A.a.createElement(l,{windowWidth:s,windowHeight:g,width:t,height:n},A.a.createElement(P,null))))})}),_=n(15),$=n.n(_),ee=(n(231),function(){var e=Object(r.useContext)(h),t=e.turn,n=e.players,a=e.balances,i=e.next,u=e.setNewAsset,c=e.newAsset;return Object(r.useEffect)(function(){var e=function(e){var t=e.keyCode;e.repeat||(49===t&&u("house"),50===t&&u("villager"),51===t&&u("soldier"),52===t&&u("king"),13===t&&i())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[u,i]),A.a.createElement("div",{className:"ui"},A.a.createElement("div",{className:"infos"},A.a.createElement("h1",null,"2-game"),A.a.createElement("h3",null,"".concat(t," turn!")),A.a.createElement("div",{className:"balances"},n.map(function(e){var n=e.name,r=e.gold;return A.a.createElement("div",{key:n,className:$()("balance",{selected:n===t})},A.a.createElement("div",{className:"player"},n,":"),A.a.createElement("div",{className:"gold"},r),A.a.createElement("div",{className:"value"},"(",a[n]>=0?"+":"",a[n],")"))}))),A.a.createElement("div",{className:$()("actions",t)},A.a.createElement("button",{onClick:function(){return u("house")},className:$()({selected:"house"===c})},"House [10/+10]"),A.a.createElement("button",{onClick:function(){return u("villager")},className:$()({selected:"villager"===c})},"Villager [10/-5]"),A.a.createElement("button",{onClick:function(){return u("soldier")},className:$()({selected:"soldier"===c})},"Soldier [20/-20]"),A.a.createElement("button",{onClick:function(){return u("king")},className:$()({selected:"king"===c})},"King [40/-40]"),A.a.createElement("button",{onClick:i,className:"next"},"player1"===t?"To player 2":"Next turn")))}),te=function(){return A.a.createElement(C,{width:12,height:12},A.a.createElement(q,{width:12,height:12}),A.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(A.a.createElement(te,null),document.body),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return function(t,n){return!(!e[n]||!e[n][t]||e[n][t].empty)}},A=function(e,t){return[[e,t],[e-1,t],[e+1,t],[e,t-1],[t%2===1?e+1:e-1,t-1],[e,t+1],[t%2===1?e+1:e-1,t+1]]};t.isSamePlayerAround=function(e){return function(t,n,a){return!!A(t,n).find(function(t){var n=t[0],A=t[1];return function(e){return function(t,n,A){return r(e)(t,n)&&e[n][t].player===A}}(e)(n,A,a)})}},t.isOneOfEnemyUnitsAround=function(e){return function(t,n,a,i){return!!A(t,n).find(function(t){var n=t[0],A=t[1];return function(e){return function(t,n,A,a){return!!(r(e)(t,n)&&e[n][t].player!==A&&e[n][t].unit&&a.includes(e[n][t].unit))}}(e)(n,A,a,i)})}},t.getEmptyTilesAround=function(e){return function(t,n){return A(t,n).filter(function(t){var n=t[0],A=t[1];return r(e)(n,A)&&void 0===e[A][n].unit})}},t.getUnitBalance=function(e){switch(e){case"house":return 10;case"villager":return-5;case"soldier":return-20;case"king":return-40;case"tree":return-1;default:throw new Error("unknown unit balance: "+e)}},t.getUnitCost=function(e){switch(e){case"house":case"villager":return 10;case"soldier":return 20;case"king":return 40;default:throw new Error("unknown unit cost: "+e)}}},6:function(e,t,n){"use strict";t.__esModule=!0,t.random=function(e,t){return Math.round(Math.random()*(t-e)+e)},t.hexRgb=function(e){return[e>>16&255,e>>8&255,255&e]},t.rgbHex=function(e,t,n){return n|t<<8|e<<16},t.darker=function(e,n){void 0===n&&(n=.75);var r=t.hexRgb(e),A=r[0],a=r[1],i=r[2];return t.rgbHex(A*n,a*n,i*n)},t.easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeInElastic:function(e){return(.04-.04/e)*Math.sin(25*e)+1},easeOutElastic:function(e){return.04*e/--e*Math.sin(25*e)},easeInOutElastic:function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(90*e):(.02-.01/e)*Math.sin(90*e)+1},easeInSin:function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},easeOutSin:function(e){return Math.sin(Math.PI/2*e)},easeInOutSin:function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}}}},[[114,1,2]]]);
//# sourceMappingURL=main.6720b7c4.chunk.js.map