{"version":3,"sources":["../../engine/dist/availabilities.js","../../engine/dist/index.js","game/tiles/tree/tree.png","game/tiles/villager/boar.png","game/tiles/soldier/pineapple.png","game/tiles/house/pieApple.png","game/tiles/king/jam.png","game/tiles/grave/eggs.png","game/tiles/tile.png","game/stars/star.png","../../engine/dist/reducer.js","../../engine/dist/generate.js","../../engine/dist/selectAsset.js","../../engine/dist/dropAsset.js","../../engine/dist/next.js","../../engine/dist/selectUnit.js","../../engine/dist/moveUnit.js","../../engine/dist/actions.js","game/camera/camera.jsx","contexts/board.jsx","game/tiles/tree/tree.jsx","game/tiles/villager/villager.jsx","game/tiles/soldier/soldier.jsx","game/tiles/house/house.jsx","game/tiles/king/king.jsx","game/tiles/grave/grave.jsx","game/tiles/tile.jsx","game/tiles/tiles.jsx","game/stars/star.jsx","game/stars/stars.jsx","game/game.jsx","ui/ui.jsx","app.jsx","serviceWorker.js","index.js","../../engine/dist/utils.js","../../utils/dist/index.js"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","exports","__esModule","utils_1","__webpack_require__","state","unitType","base","tile","isSamePlayerAround","tiles","x","y","turn","player","undefined","unit","map","line","available","isOneOfEnemyUnitsAround","includes","Error","process","redux_1","reducer_1","actions_1","config","store","createStore","NODE_ENV","PUBLIC_URL","window","__REDUX_DEVTOOLS_EXTENSION__","name","getReduxDevToolsEnhancer","dispatch","generate","decorate","cb","args","_i","before","getState","subscribe","selectAsset","next","actionOnTile","selectedAsset","getPlayerGold","players","find","_a","gold","res","dropAsset","selectedUnit","moveUnit","selectUnit","module","generate_1","selectAsset_1","dropAsset_1","next_1","selectUnit_1","moveUnit_1","initState","action","type","payload","newState","utils_2","check","tilesPerPlayers","Map","tilesWithoutUnitPerPlayers","forEach","empty","set","get","size","values","value","Set","iteration","getPlayers","width","height","count","Array","from","_","index","random","positions","add","console","log","playerA","playerB","j","Math","sqrt","pow","_loop_1","push","_loop_2","max","min","abs","played","getTiles","retries","totalRetries","round","availabilities_1","unitCost","getUnitCost","currentPlayer","unselect","droped","getUnitBalance","nextPlayerIndex","findIndex","balance","tilesWhereToPlantTrees","emptyTiles","getEmptyTilesAround","markAvailable","selectedUnitType","stateWithAvailabilities","setAvailable","_b","assetType","Camera","_ref","children","windowWidth","windowHeight","props","objectWithoutProperties","_useState","useState","_useState2","slicedToArray","scale","setScale","_useState3","_useState4","_useState4$","setPosition","ref","useRef","useEffect","current","interactive","hitArea","Rectangle","document","body","addEventListener","e","preventDefault","curr","deltaY","on","clickStart","pinchStart","_e$data","data","global","buttons","originalEvent","touches","_e$data$originalEvent","_e$data$originalEvent2","firstX","clientX","firstY","clientY","_e$data$originalEvent3","secondX","secondY","distance","_ref$current$clickSta","startX","startY","_ref2","_ref3","oldX","oldY","react_default","a","createElement","react_pixi_module","Context","createContext","BoardProvider","engine","gameEngine","setState","player1","player2","balances","setBalances","useLayoutEffect","reduce","acc","objectSpread","defineProperty","Provider","setNewAsset","Tree","image","tree","anchor","villager","Soldier","soldier","House","house","King","king","Grave","grave","Asset","playable","alpha","tree_tree","Tile","_ref2$tint","tint","useContext","BoardContext","innerTint","setInnerTint","setAlpha","click","setBaseTint","pointerdown","Date","now","pointerup","pointerover","darker","pointerout","tile_Asset","getTint","Tiles","setTiles","baseTiles","useTick","delta","innerTile","_hexRgb","hexRgb","_hexRgb2","targetR","targetG","targetB","targetFrame","currentFrame","previousPlayer","nextFramePercent","easeNextFramePercent","easing","linear","_hexRgb3","_hexRgb4","prevR","prevG","prevB","nextValue","targetValue","newValue","newTint","rgbHex","concat","toConsumableArray","game_tiles_tile","key","Wrapper","tiles_Tiles","memo","targetX","targetY","speed","_ref$easeTime","easeTime","_ref$easeX","easeX","_ref$easeY","easeY","setCurrentFrame","frames","target","setTarget","_useState5","_useState6","position","percentDistance","nextX","nextY","star","getStars","Stars","_ref$count","stars","setStars","frame","setFrame","endAnimationFrame","setEndAnimationFrame","_useState7","_useState8","disapeared","setDisapeared","_useState9","_useState10","setTint","easeOutCubic","easeInCubic","React","Star","Game","_useState2$","setSize","mask","setMask","maskRef","innerWidth","innerHeight","board","Consumer","options","autoResize","transparent","forceFXAA","resolution","devicePixelRatio","autoDensity","roundPixel","resizeTo","stars_stars","camera","tiles_tiles","UI","_useContext","newAsset","listener","keyCode","repeat","removeEventListener","className","cn","selected","onClick","App","board_BoardProvider","game_game","ui_ui","Boolean","location","hostname","match","ReactDOM","render","app","navigator","serviceWorker","ready","then","registration","unregister","tileExists","getAroundArea","isSamePlayer","units","isOneOfEnemyUnits","filter","hex","r","g","b","coeff","easeInQuad","easeOutQuad","easeInOutQuad","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInElastic","sin","easeOutElastic","easeInOutElastic","easeInSin","PI","easeOutSin","easeInOutSin"],"mappings":"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","file":"static/js/main.6720b7c4.chunk.js","sourcesContent":["\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar utils_1 = require(\"./utils\");\n\nexports[\"default\"] = function (state, unitType) {\n  var base = function base(tile) {\n    return utils_1.isSamePlayerAround(state.tiles)(tile.x, tile.y, state.turn) && (tile.player !== state.turn || tile.unit === undefined || tile.unit === 'tree');\n  };\n\n  if (unitType === 'house') {\n    return __assign({}, state, {\n      tiles: state.tiles.map(function (line) {\n        return line.map(function (tile) {\n          return __assign({}, tile, {\n            available: base(tile) && tile.player === state.turn && tile.unit === undefined\n          });\n        });\n      })\n    });\n  }\n\n  if (unitType === 'villager') {\n    return __assign({}, state, {\n      tiles: state.tiles.map(function (line) {\n        return line.map(function (tile) {\n          return __assign({}, tile, {\n            available: base(tile) && (tile.unit === undefined || tile.unit === 'tree') && !utils_1.isOneOfEnemyUnitsAround(state.tiles)(tile.x, tile.y, state.turn, ['soldier', 'king'])\n          });\n        });\n      })\n    });\n  }\n\n  if (unitType === 'soldier') {\n    return __assign({}, state, {\n      tiles: state.tiles.map(function (line) {\n        return line.map(function (tile) {\n          return __assign({}, tile, {\n            available: base(tile) && (tile.unit === undefined || !['soldier', 'king'].includes(tile.unit)) && !utils_1.isOneOfEnemyUnitsAround(state.tiles)(tile.x, tile.y, state.turn, ['king'])\n          });\n        });\n      })\n    });\n  }\n\n  if (unitType === 'king') {\n    return __assign({}, state, {\n      tiles: state.tiles.map(function (line) {\n        return line.map(function (tile) {\n          return __assign({}, tile, {\n            available: base(tile)\n          });\n        });\n      })\n    });\n  }\n\n  throw new Error(\"Unknown unit while looking for availabilities: \" + unitType);\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar redux_1 = require(\"redux\");\n\nvar reducer_1 = require(\"./reducer\");\n\nvar actions_1 = require(\"./actions\");\n\nvar getReduxDevToolsEnhancer = function getReduxDevToolsEnhancer() {\n  if (typeof process !== 'undefined' && process.env && process.env.NODE_ENV === 'production') {\n    return undefined;\n  }\n\n  if (typeof window === 'undefined') return undefined;\n  if (window.__REDUX_DEVTOOLS_EXTENSION__) return window.__REDUX_DEVTOOLS_EXTENSION__({\n    name: 'engine'\n  });\n  return undefined;\n};\n\nexports[\"default\"] = function (config) {\n  var store = redux_1.createStore(reducer_1[\"default\"], getReduxDevToolsEnhancer());\n  store.dispatch(actions_1.generate(config));\n\n  var decorate = function decorate(cb) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var before = store.getState();\n      store.dispatch(cb.apply(void 0, args));\n      return [before !== store.getState(), store.getState()];\n    };\n  };\n\n  var actionOnTile = function actionOnTile(tile) {\n    if (store.getState().selectedAsset !== undefined) {\n      var getPlayerGold = function getPlayerGold(state) {\n        var gold = state.players.find(function (_a) {\n          var name = _a.name;\n          return name === state.turn;\n        }).gold;\n        return gold;\n      };\n\n      var gold = getPlayerGold(store.getState());\n      var res = decorate(actions_1.dropAsset)(tile);\n      if (res[0] && gold !== getPlayerGold(res[1])) return res;\n    }\n\n    if (store.getState().selectedUnit) {\n      var _a = store.getState().selectedUnit,\n          x = _a.x,\n          y = _a.y;\n      var res = decorate(actions_1.moveUnit)(tile);\n      if (res[0] && res[1].tiles[y][x].unit === undefined) return res;\n    }\n\n    return decorate(actions_1.selectUnit)(tile);\n  };\n\n  return {\n    subscribe: store.subscribe,\n    getState: store.getState,\n    selectAsset: decorate(actions_1.selectAsset),\n    next: decorate(actions_1.next),\n    actionOnTile: actionOnTile\n  };\n};","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEUAAAAcEDAcEDAXBiXlUUStMDjBQDzcWEvzdmWPHi/ji2v/k355HC/SVlHjmm7ms33/5qDggF/fbVbbWErNjH5YAA6ZBxm+ChvsFiv/WGP///8kX5TdAAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QadWfkMgAAAAd0SU1FB+IDBwApN7HUaKQAAACaSURBVBjTPU4JDoMwDAsLCXgEWFuO7f8fndNJkyondu26oqoiov8hOhrBfPIcI2GGK3x6UnHM9OkCWDoMWDInGhZUCNG5qIeGd/gZ4Gts+2uP1a1XwVBqKWXnTRcMrWrl2ZCZNHhFK6iNK/+BgHn1Vpojn6WDve6WPd0RCD3O6z6PvsrAQfr+3NdJPggV7Qq5JqfyUGaY0Af5F4eCB/DB6bEGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAXVBMVEUAAAAcEDAcEDAXBiUFEioFEim7ngVqQgWDWgXeygmigwVNLgBqQQWfgQVpQQXCOxbWXxXCOxf7mBu3XxX7lRu3YBX/8SLSjBb/zCm4YBX/zynwZg78lxvvZQ7////vpxk8AAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QecgogKwAAAAd0SU1FB+IDBwApN7HUaKQAAABzSURBVBjTVYwLDoMwDEMDztqwjkFZC/tx/2uuRVNlHCnSs14iIgJRQV3/XBw8nOnQGr1WdtoKWBhuNjYuyt0pM8xbsBFkqA9KRnGmGSeOyyOBOeV1owZzfG5rBl+83nmh4hO/OUU29jqnr/vE3PUo6bsDfh8aBM6URbAwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAMFBMVEUAAAAcEDAcEDAXBiXQVB7nijvecjD9qUz9rFH/vmL/64r/u3Llg0LSVjHdhkb///9TGBy3AAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QPGLoA2QAAAAd0SU1FB+IDBwApN7HUaKQAAABcSURBVAjXY2DADgygNLMzlDYJMYDQqe7OYDrdtaTEAMQPCQ9zdWYwjejonDmjM5iBefXZ00A0mcE2dXUuEDXDRIIhajpaDRiEjY3tjI2NFRkYBQWFLQ0FoXYAMQBl/R1u5y40XgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMJImYPsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDMtMDZUMjM6NDE6NTUrMDE6MDDje9hHAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAOVBMVEUAAAAcEDAcEDAXBiXqRUr/fWL/vGv/3IODi9KfsNCmzeiiAg7SIy/ACxP/UFb/7tXbkJDjxKP///8zPESvAAAAA3RSTlMAQHBaCvrnAAAAAWJLR0QSe7xsAAAAAAd0SU1FB+IDBwApN7HUaKQAAAB9SURBVBjTZY2BDsMgCERtEarlwPb/f3aI3bJsF8RweXClFPpSCVFlZjlE4quURpXKUdF4Ia310Hn29l55EKlCzxz4kSvpKIvOB825kKkDDh9umobjudphi0C77tDowDK8XR4a3ReBP+L3htrMyKCZsu0Esyi3SN23dD6K+QU0sgbmCTQAEwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMJImYPsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDMtMDZUMjM6NDE6NTUrMDE6MDDje9hHAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAP1BMVEUAAAAcEDAXBiXWlV//35L//uj0wYbthQ7/sA7/sQ7sdQ7/yA7/8jb/35H//sbZVwDshA7/2Y7//sf/2o7///9MFyYBAAAAAnRSTlMAQABPjKgAAAABYktHRBSS38k1AAAAB3RJTUUH4gMHACk3sdRopAAAAHdJREFUGNOdz8kKQzEIBdA43EyvMS/p//9rjYvSQld1IdwDKqb0V3HURxYFVN7IWUttQGBk9HY92iitYbiwYZZ63b26YrFvMJ29jFCAE/mMKmzM7nkdkLz3U8xg2EzpyMp+UobtdcCFmci7WGQXCnei7xeIfj32AspkA6uYqfR3AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDIzOjQxOjU1KzAxOjAwkiZg+wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMy0wNlQyMzo0MTo1NSswMTowMON72EcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIEAYAAAD9yHLdAAAACXBIWXMAAAk6AAAJOgHwZJJKAAAEV0lEQVR42u3bsU3DQBiA0TNighSMERcYZqFgAxooYQ/ooKJgBsIE4BT2GBSsEEQEBBnsBIUE3/m9KrYSn3VS9Om35BAAAAC2JbMFEEL1VJVVOZst+15+kBd5kfnfgIAgGOsRFAQEhENIQEBg88EQFBAQBENQQEAQjv6FQ1AQEBAMIQEBQTAEBQQEwRAUEBAQDkFBQEAwBAUBAcEQEhAQBENQQEAQDgQFAUEwEBQEBMFASBAQEA5BAQFBMBAUBATBQFAQEAQDIUFAEA4ERVAEBMEAQUFABEMwEBQEBMFASBAQhAMERUAQDBAUAUEwQFAQEMEAIUFAhAMQFAFBMEBQBATBAEEREIQDhAQBEQxAUAREMABBERDBAARFQIQDEBIERDAAQREQwQAERUAEAxAUAREOQEgERDAABCXlgAgGICgCIhiAoAiIcACkFpJoblgwAEEREMEASCAovbsh4QCIIyj/fgOCARBnSLa+sGAApBGUrS0kHABpBWXtC19fTu7PTxfHxeHe6OhYKABSD8qvL9QMhnAADDMoS38oGACCslJAZnMh3Fw9TC7OBANgqMbFeH+8n51kc+GqNSDNcAgGAF9C8m5xfvcjHCYNALo0e7FjSwDoUpf1tJ5+Hyx22kYVWwZAFxMIAJ3aBgsBAcAEAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAACAgACAgAAgKAgAAgIAAICAAICAACAoCAACAgAAgIAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgIAAgIAAICAACAoCAACAgACAgAAgIAAICgIAAICAAICAACAgAAgKAgAAgILYAAAEBQEAAEBAABAQABAQAAQFAQAAQEAAEBAAEBAABAWDLsrkQdm0FAD/JD/IiL95S8TMBAWClYDR5hAUgHL8Kh4AAsJbP4szmQqjLelpP3z4BYPJYISAfri8n9+eni+PicG90dCwoAEMPRtPSR1jl4/PL3e3fLQhA3OFonUDaJpEmkwnAMMOxNCDrqp6qsioFBiC1cGw8IMICkFYw/j0gggIQdzh6ExAhAYgjGL0NiKAA9DsY0QREUADB6Ldo3+8QFEA4BERIAMGIUHJvmAsKIBgCIiiAYAiIkADCISCCAjDIYAiIoACCISCCAgiGgAgJIBwCIiiAYAgIggKCgYAICgiHcAiIkACCISCCAgiGgCAoIBgCgqCAcCAgQgKCgYAICggGAoKggGAICEICwiEgCAoIBgIiKIKCYCAgCArCgYAgJAgGAoKgIBgICAgKgoGAICgIBwKCkCAYCAiCgmAgICAogoGAgKAIBwgIQoJgICAICoKBgICgCAYCAkIiHCAgCIpggIAgKIIBAgLDC4pwICAgJIKBgICgCAZ0eQWeV3YosCu2SQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABEAYAAABPhRjKAAAACXBIWXMAAAAnAAAAJwEqCZFPAAAAEklEQVQI12N4G/Pm1tv5//8DABxNBpqWcbAGAAAAAElFTkSuQmCC\"","\"use strict\";\n\nexports.__esModule = true;\n\nvar generate_1 = require(\"./generate\");\n\nvar selectAsset_1 = require(\"./selectAsset\");\n\nvar dropAsset_1 = require(\"./dropAsset\");\n\nvar next_1 = require(\"./next\");\n\nvar selectUnit_1 = require(\"./selectUnit\");\n\nvar moveUnit_1 = require(\"./moveUnit\");\n\nvar initState = {\n  tiles: [],\n  players: [],\n  selectedAsset: undefined,\n  selectedUnit: undefined,\n  turn: 'player1'\n};\n\nexports[\"default\"] = function (state, action) {\n  if (state === void 0) {\n    state = initState;\n  }\n\n  switch (action.type) {\n    case 'GENERATE':\n      return generate_1[\"default\"](action.payload);\n\n    case 'SELECT_ASSET':\n      return selectAsset_1[\"default\"](state, action.payload);\n\n    case 'DROP_ASSET':\n      {\n        if (!state.selectedAsset) return state;\n        var newState = selectAsset_1[\"default\"](state, state.selectedAsset);\n        newState = dropAsset_1[\"default\"](newState, action.payload);\n        return selectAsset_1[\"default\"](newState, state.selectedAsset);\n      }\n\n    case 'SELECT_UNIT':\n      return selectUnit_1[\"default\"](state, action.payload);\n\n    case 'MOVE_UNIT':\n      return moveUnit_1[\"default\"](state, action.payload);\n\n    case 'NEXT':\n      return next_1[\"default\"](state);\n\n    default:\n      return state;\n  }\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar utils_1 = require(\"@2-game/utils\");\n\nvar utils_2 = require(\"./utils\");\n\nvar getPlayers = function getPlayers(payload) {\n  var width = payload.width,\n      height = payload.height,\n      count = payload.players;\n  var players = Array.from({\n    length: count\n  }).map(function (_, index) {\n    return {\n      name: \"player\" + (index + 1),\n      gold: 10,\n      x: utils_1.random(0, width),\n      y: utils_1.random(0, height)\n    };\n  });\n  var positions = new Set();\n  players.forEach(function (_a) {\n    var x = _a.x,\n        y = _a.y;\n    return positions.add([x, y]);\n  });\n\n  if (positions.size < count) {\n    console.log('Not all players are on the board, retrying...');\n    return getPlayers(payload);\n  }\n\n  var getDistance = function getDistance(playerA, playerB) {\n    return Math.sqrt(Math.pow(playerA.x - playerB.x, 2) + Math.pow(playerA.y - playerB.y, 2));\n  };\n\n  for (var i = 0; i < players.length; i += 1) {\n    for (var j = i + 1; j < players.length; j += 1) {\n      if (getDistance(players[i], players[j]) < 6) return getPlayers(payload);\n    }\n  }\n\n  return players;\n};\n\nvar getTiles = function getTiles(payload) {\n  return function (players) {\n    var width = payload.width,\n        height = payload.height;\n    var tiles = [];\n\n    var _loop_1 = function _loop_1(y) {\n      var line = [];\n      tiles.push(line);\n\n      var _loop_2 = function _loop_2(x) {\n        var player = players.find(function (player) {\n          return player.x === x && player.y === y;\n        });\n        var unit = undefined;\n        if (Math.random() <= 0.05) unit = 'tree';\n        line.push({\n          x: x,\n          y: y,\n          unit: unit,\n          available: true,\n          empty: player ? false : Math.random() <= Math.max(0.10, 1 / (Math.min(y, Math.abs(y - height)) + Math.min(x, Math.abs(x - width)) + 1)),\n          player: player ? player.name : undefined,\n          gold: unit === undefined ? 1 : 0,\n          played: false\n        });\n      };\n\n      for (var x = 0; x < width; x += 1) {\n        _loop_2(x);\n      }\n    };\n\n    for (var y = 0; y < height; y += 1) {\n      _loop_1(y);\n    }\n\n    tiles = tiles.map(function (line) {\n      return line.map(function (tile) {\n        if (tile.empty) return tile;\n        var player = players.find(function (_a) {\n          var name = _a.name;\n          return utils_2.isSamePlayerAround(tiles)(tile.x, tile.y, name);\n        });\n        return __assign({}, tile, {\n          player: player ? player.name : undefined\n        });\n      });\n    });\n    return tiles;\n  };\n};\n\nvar check = function check(_a) {\n  var players = _a.players,\n      tiles = _a.tiles;\n  if (players.length < 1) return false;\n  var tilesPerPlayers = new Map();\n  var tilesWithoutUnitPerPlayers = new Map();\n  tiles.forEach(function (line) {\n    return line.forEach(function (tile) {\n      if (!tile.player) return;\n      if (tile.empty) return;\n      tilesPerPlayers.set(tile.player, (tilesPerPlayers.get(tile.player) || 0) + 1);\n      if (tile.unit) return;\n      tilesWithoutUnitPerPlayers.set(tile.player, (tilesWithoutUnitPerPlayers.get(tile.player) || 0) + 1);\n    });\n  });\n  if (tilesPerPlayers.size !== players.length) return false;\n  if (tilesWithoutUnitPerPlayers.size !== players.length) return false;\n  if (tilesPerPlayers.values().next().value < 6) return false;\n  if (tilesWithoutUnitPerPlayers.values().next().value < 2) return false;\n  if (new Set(tilesPerPlayers.values()).size > 1) return false;\n  if (new Set(tilesWithoutUnitPerPlayers.values()).size > 1) return false;\n  return true;\n};\n\nvar iteration = function iteration(payload) {\n  var players = getPlayers(payload);\n  var tiles = getTiles(payload)(players);\n  return {\n    tiles: tiles,\n    players: players,\n    selectedAsset: undefined,\n    selectedUnit: undefined,\n    turn: 'player1'\n  };\n};\n\nexports[\"default\"] = function (payload) {\n  var state = {\n    players: [],\n    tiles: [],\n    selectedAsset: undefined,\n    selectedUnit: undefined,\n    turn: 'player1'\n  };\n  var retries = -1;\n  var totalRetries = -1;\n  var width = payload.width,\n      height = payload.height;\n\n  while (!check(state)) {\n    retries += 1;\n    totalRetries += 1;\n\n    if (retries > 100) {\n      retries = 0;\n      width = Math.round(1.2 * width);\n      height = Math.round(1.2 * height);\n    }\n\n    state = iteration(__assign({}, payload, {\n      width: width,\n      height: height\n    }));\n  }\n\n  if (totalRetries > 100) {\n    console.log('Generating state took more than 100 retries:', totalRetries, payload, {\n      width: width,\n      height: height\n    });\n  }\n\n  return state;\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar utils_1 = require(\"./utils\");\n\nvar availabilities_1 = require(\"./availabilities\");\n\nexports[\"default\"] = function (state, payload) {\n  var unitCost = utils_1.getUnitCost(payload);\n  var currentPlayer = state.players.find(function (_a) {\n    var name = _a.name;\n    return name === state.turn;\n  });\n\n  if (!currentPlayer || currentPlayer.gold < unitCost) {\n    return __assign({}, state, {\n      tiles: state.tiles.map(function (line) {\n        return line.map(function (tile) {\n          return __assign({}, tile, {\n            available: true\n          });\n        });\n      }),\n      selectedAsset: undefined,\n      selectedUnit: undefined\n    });\n  }\n\n  return availabilities_1[\"default\"](__assign({}, state, {\n    selectedAsset: payload,\n    selectedUnit: undefined\n  }), payload);\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar utils_1 = require(\"./utils\");\n\nvar unselect = function unselect(state) {\n  return __assign({}, state, {\n    selectedAsset: undefined,\n    tiles: state.tiles.map(function (line) {\n      return line.map(function (tile) {\n        return __assign({}, tile, {\n          available: true\n        });\n      });\n    })\n  });\n};\n\nexports[\"default\"] = function (state, payload) {\n  if (state.selectedAsset === undefined) return unselect(state);\n  var droped = false;\n  var tiles = state.tiles.map(function (line) {\n    return line.map(function (tile) {\n      if (payload.x !== tile.x || payload.y !== tile.y || !tile.available) {\n        return tile;\n      }\n\n      droped = true;\n      return __assign({}, tile, {\n        played: tile.player !== state.turn || tile.unit !== undefined,\n        available: false,\n        unit: state.selectedAsset,\n        player: state.turn,\n        gold: utils_1.getUnitBalance(state.selectedAsset) + 1\n      });\n    });\n  });\n  return __assign({}, state, {\n    tiles: tiles,\n    players: state.players.map(function (player) {\n      if (!droped) return player;\n      if (player.name !== state.turn) return player;\n      return __assign({}, player, {\n        gold: player.gold - utils_1.getUnitCost(state.selectedAsset)\n      });\n    })\n  });\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar utils_1 = require(\"@2-game/utils\");\n\nvar utils_2 = require(\"./utils\");\n\nexports[\"default\"] = function (state) {\n  var nextPlayerIndex = state.players.findIndex(function (_a) {\n    var name = _a.name;\n    return name === state.turn;\n  }) + 1;\n  if (state.players.length === nextPlayerIndex) nextPlayerIndex = 0;\n  var tiles = state.tiles.map(function (line) {\n    return line.map(function (tile) {\n      return __assign({}, tile, {\n        available: true,\n        played: false,\n        unit: tile.unit === 'grave' ? undefined : tile.unit\n      });\n    });\n  });\n  var balance = 0;\n  state.tiles.forEach(function (line) {\n    return line.forEach(function (tile) {\n      if (tile.player !== state.turn) return;\n      balance += tile.gold;\n    });\n  });\n  var player = state.players.find(function (_a) {\n    var name = _a.name;\n    return name === state.turn;\n  });\n\n  if (player && player.gold + balance < 0) {\n    tiles = tiles.map(function (line) {\n      return line.map(function (tile) {\n        if (tile.player !== state.turn) return tile;\n        if (tile.unit === undefined) return tile;\n        if (['house', 'tree'].includes(tile.unit)) return tile;\n        return __assign({}, tile, {\n          gold: 1,\n          unit: 'grave'\n        });\n      });\n    });\n  }\n\n  var tilesWhereToPlantTrees = [];\n  tiles.forEach(function (line) {\n    return line.forEach(function (tile) {\n      if (tile.unit !== 'tree') return;\n      if (Math.random() > 0.10) return;\n      var emptyTiles = utils_2.getEmptyTilesAround(tiles)(tile.x, tile.y);\n      if (emptyTiles.length === 0) return;\n      var _a = emptyTiles[utils_1.random(0, emptyTiles.length - 1)],\n          x = _a[0],\n          y = _a[1];\n      tilesWhereToPlantTrees.push(tiles[y][x]);\n    });\n  });\n  tiles = tiles.map(function (line) {\n    return line.map(function (tile) {\n      if (!tilesWhereToPlantTrees.includes(tile)) return tile;\n      return __assign({}, tile, {\n        unit: 'tree'\n      });\n    });\n  });\n  return __assign({}, state, {\n    tiles: tiles,\n    selectedAsset: undefined,\n    selectedUnit: undefined,\n    turn: state.players[nextPlayerIndex].name,\n    players: state.players.map(function (player) {\n      if (player.name != state.turn) return player;\n      return __assign({}, player, {\n        gold: player.gold + balance\n      });\n    })\n  });\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar availabilities_1 = require(\"./availabilities\");\n\nvar markAvailable = function markAvailable(state) {\n  return __assign({}, state, {\n    tiles: state.tiles.map(function (line) {\n      return line.map(function (tile) {\n        return __assign({}, tile, {\n          available: true\n        });\n      });\n    })\n  });\n};\n\nexports[\"default\"] = function (state, payload) {\n  var x = payload.x,\n      y = payload.y;\n\n  if (!state.tiles[y] || !state.tiles[y][x] || state.tiles[y][x].unit === undefined || state.tiles[y][x].played || state.tiles[y][x].player !== state.turn || ['tree', 'house'].includes(state.tiles[y][x].unit)) {\n    return markAvailable(state);\n  }\n\n  var selectedUnitType = state.tiles[y][x].unit;\n  var stateWithAvailabilities = availabilities_1[\"default\"](__assign({}, state, {\n    selectedUnit: payload,\n    selectedAsset: undefined\n  }), selectedUnitType);\n  return __assign({}, stateWithAvailabilities, {\n    tiles: stateWithAvailabilities.tiles.map(function (line) {\n      return line.map(function (tile) {\n        if (!tile.available) return tile;\n        return __assign({}, tile, {\n          available: Math.sqrt(Math.pow(tile.x - x, 2) + Math.pow(tile.y - y, 2)) < 5\n        });\n      });\n    })\n  });\n};","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nexports.__esModule = true;\n\nvar setAvailable = function setAvailable(state) {\n  return __assign({}, state, {\n    tiles: state.tiles.map(function (line) {\n      return line.map(function (tile) {\n        return __assign({}, tile, {\n          available: true\n        });\n      });\n    })\n  });\n};\n\nexports[\"default\"] = function (state, payload) {\n  if (state.selectedUnit === undefined) return setAvailable(state);\n  if (!state.tiles[payload.y][payload.x].available) return setAvailable(__assign({}, state, {\n    selectedUnit: undefined\n  }));\n  return __assign({}, state, {\n    tiles: state.tiles.map(function (line) {\n      return line.map(function (tile) {\n        if (!state.selectedUnit || !(tile.x === payload.x && tile.y === payload.y) && !(tile.x === state.selectedUnit.x && tile.y === state.selectedUnit.y)) {\n          return __assign({}, tile, {\n            available: true\n          });\n        }\n\n        if (tile.x === state.selectedUnit.x && tile.y === state.selectedUnit.y) {\n          return __assign({}, tile, {\n            available: true,\n            gold: 1,\n            played: true,\n            unit: undefined\n          });\n        }\n\n        var _a = state.tiles[state.selectedUnit.y][state.selectedUnit.x],\n            unit = _a.unit,\n            gold = _a.gold,\n            player = _a.player;\n        return __assign({}, tile, {\n          played: true,\n          available: true,\n          unit: unit,\n          gold: gold,\n          player: player\n        });\n      });\n    }),\n    selectedUnit: undefined\n  });\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.generate = function (_a) {\n  var width = _a.width,\n      height = _a.height,\n      _b = _a.players,\n      players = _b === void 0 ? 2 : _b;\n  return {\n    type: 'GENERATE',\n    payload: {\n      players: players,\n      width: width,\n      height: height\n    }\n  };\n};\n\nexports.selectAsset = function (assetType) {\n  return {\n    type: 'SELECT_ASSET',\n    payload: assetType\n  };\n};\n\nexports.dropAsset = function (tile) {\n  return {\n    type: 'DROP_ASSET',\n    payload: tile\n  };\n};\n\nexports.next = function () {\n  return {\n    type: 'NEXT'\n  };\n};\n\nexports.selectUnit = function (tile) {\n  return {\n    type: 'SELECT_UNIT',\n    payload: tile\n  };\n};\n\nexports.moveUnit = function (tile) {\n  return {\n    type: 'MOVE_UNIT',\n    payload: tile\n  };\n};","import React, { useRef, useEffect, useState } from 'react'\nimport { Container } from '@inlet/react-pixi'\nimport { Rectangle } from 'pixi.js'\n\nconst Camera = ({\n  children,\n  width,\n  height,\n  windowWidth,\n  windowHeight,\n  ...props,\n}) => {\n  const [scale, setScale] = useState(Math.min(windowWidth / ((width * 20) + 100), windowHeight / ((height * 15) + 100)))\n  const [[x, y], setPosition] = useState([(windowWidth - (width * scale * 20)) / 2, (windowHeight - (height * 15 * scale)) / 2])\n  const ref = useRef(null)\n\n  useEffect(\n    () => {\n      ref.current.interactive = true\n      ref.current.hitArea = new Rectangle(0, 0, width * 20, height * 20)\n\n      document.body.addEventListener('wheel', (e) => {\n        e.preventDefault()\n        setScale(curr => Math.max(0.1, Math.min(3, curr - (e.deltaY / 100))))\n        // TODO: zoom where the pointer is\n      })\n\n      ref.current.on('pointerupoutside', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n      ref.current.on('pointerup', () => {\n        ref.current.clickStart = undefined\n        ref.current.pinchStart = undefined\n      })\n\n      ref.current.on('pointermove', (e) => {\n        const { global, buttons } = e.data\n\n        // pinch\n        if (e.data.originalEvent.touches && e.data.originalEvent.touches.length > 1) {\n          const [{ clientX: firstX, clientY: firstY }, { clientX: secondX, clientY: secondY }] = e.data.originalEvent.touches\n          const distance = (secondX - firstX) ** 2 + (secondY - firstY) ** 2\n\n          if (ref.current.pinchStart) {\n            setScale(curr => Math.max(0.1, Math.min(3, curr + (distance - ref.current.pinchStart) / 100000)))\n          }\n\n          ref.current.pinchStart = distance\n\n          return\n        }\n\n        // click\n        if (buttons === 0) return\n\n        const { x, y } = global\n\n        if (ref.current.clickStart) {\n          const [startX, startY] = ref.current.clickStart\n          setPosition(([oldX, oldY]) => [oldX + x - startX, oldY + y - startY])\n        }\n\n        ref.current.clickStart = [x, y]\n      })\n    },\n    [],\n  )\n\n  return (\n    <Container\n      {...props}\n      ref={ref}\n      x={x}\n      y={y}\n      scale={scale}\n    >\n      {children}\n    </Container>\n  )\n}\n\nexport default Camera\n","import React, { createContext, useState, useLayoutEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport gameEngine from '@2-game/engine'\n\nconst Context = createContext()\n\nconst BoardProvider = ({ children, width, height }) => {\n  const { current: engine } = useRef(gameEngine({ width, height, players: 2 }))\n  const [state, setState] = useState(engine.getState())\n  const [balances, setBalances] = useState({ player1: 0, player2: 0 })\n\n  useLayoutEffect(() => {\n    engine.subscribe(() => {\n      if (state === engine.getState()) return\n      setState(engine.getState())\n    })\n  }, [])\n\n  useLayoutEffect(\n    () => {\n      const balances = state.players.reduce((acc, { name }) => ({ ...acc, [name]: 0 }), {})\n      state.tiles.forEach(line => line.forEach((tile) => {\n        if (!tile.player) return\n        if (tile.empty) return\n\n        balances[tile.player] += tile.gold\n      }))\n\n      setBalances(balances)\n    },\n    [state]\n  )\n\n  return (\n    <Context.Provider\n      value={{\n        ...state,\n        balances,\n        setNewAsset: engine.selectAsset,\n        actionOnTile: engine.actionOnTile,\n        next: engine.next,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n\nBoardProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Context\nexport { BoardProvider }\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport tree from './tree.png'\n\nconst Tree = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={tree}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.05}\n    />\n  )\n}\n\nexport default Tree\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport villager from './boar.png'\n\nconst Tree = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={villager}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.7}\n    />\n  )\n}\n\nexport default Tree\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport soldier from './pineapple.png'\n\nconst Soldier = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={soldier}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.7}\n    />\n  )\n}\n\nexport default Soldier\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport house from './pieApple.png'\n\nconst House = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={house}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.7}\n    />\n  )\n}\n\nexport default House\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport king from './jam.png'\n\nconst King = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={king}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.7}\n    />\n  )\n}\n\nexport default King\n","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport grave from './eggs.png'\n\nconst Grave = (props) => {\n  return (\n    <Sprite\n      {...props}\n      image={grave}\n      anchor=\"0.5\"\n      x={0}\n      y={0}\n      scale={0.7}\n    />\n  )\n}\n\nexport default Grave\n","import React, { useContext, useRef, useState, useEffect } from 'react'\nimport { Sprite, Container } from '@inlet/react-pixi'\nimport { darker } from '@2-game/utils'\nimport BoardContext from '../../contexts/board'\nimport Tree from './tree'\nimport Villager from './villager'\nimport Soldier from './soldier'\nimport House from './house'\nimport King from './king'\nimport Grave from './grave'\nimport tile from './tile.png'\n\nconst Asset = ({ name, playable, ...props }) => {\n  const alpha = playable ? 1 : 0.5\n\n  switch (name) {\n    case 'tree': return <Tree {...props} />\n    case 'house': return <House {...props} />\n    case 'villager': return <Villager {...props} alpha={alpha} />\n    case 'soldier': return <Soldier {...props} alpha={alpha} />\n    case 'king': return <King {...props} alpha={alpha} />\n    case 'grave': return <Grave {...props} />\n    default: return null\n  }\n}\n\nconst Tile = ({ x, y, tint = 0xFFFFFF, available, unit, empty, played }) => {\n  if (empty) return null\n\n  const { actionOnTile } = useContext(BoardContext)\n  const [innerTint, setInnerTint] = useState(tint)\n  const [alpha, setAlpha] = useState(1)\n  const click = useRef(undefined)\n\n  const setBaseTint = () => {\n    setInnerTint(tint)\n    setAlpha(available ? 1 : 0.6)\n  }\n\n  useEffect(setBaseTint, [tint, available])\n\n  const pointerup = (e) => {\n    if (!click.current) return\n    if (click.current > Date.now() - 200) {\n      actionOnTile({ x, y })\n    }\n    click.current = undefined\n  }\n\n  const pointerdown = (e) => {\n    click.current = Date.now()\n  }\n\n  const pointerover = () => {\n    if (!available) return\n    setInnerTint(darker(innerTint))\n  }\n\n  const pointerout = () => {\n    setBaseTint()\n  }\n\n  return (\n    <Container\n      x={x * 20 + (y % 2 * 10)}\n      y={y * 15}\n      interactive\n      pointerdown={pointerdown}\n      pointerup={pointerup}\n      pointerover={pointerover}\n      pointerout={pointerout}\n      alpha={alpha}\n    >\n      <Sprite\n        image={tile}\n        anchor={0.5}\n        scale={0.1}\n        x={0}\n        y={0}\n        tint={innerTint}\n      />\n      <Asset\n        name={unit}\n        playable={!played}\n      />\n    </Container>\n  )\n}\n\nexport default Tile\n","import React, { useState, useContext } from 'react'\nimport { Container, useTick } from '@inlet/react-pixi'\nimport { easing, hexRgb, rgbHex } from '@2-game/utils'\nimport BoardContext from '../../contexts/board'\nimport Tile from './tile'\n\nconst getTint = (player) => {\n  switch (player) {\n    case 'player1': return 0xcc2020\n    case 'player2': return 0x2020cc\n    default: return 0xffffff\n  }\n}\n\nconst Tiles = () => {\n  const [tiles, setTiles] = useState([])\n  const { tiles: baseTiles } = useContext(BoardContext)\n\n  useTick((delta) => {\n    setTiles(baseTiles.map(line => line.map((tile) => {\n      if (!tiles[tile.y] || !tiles[tile.y][tile.x]) return { ...tile, tint: getTint(tile.player) }\n      const innerTile = tiles[tile.y][tile.x]\n\n      if (innerTile.player !== tile.player) {\n        const [targetR, targetG, targetB] = hexRgb(getTint(tile.player))\n\n        return {\n          ...tile,\n          targetR,\n          targetG,\n          targetB,\n          targetFrame: 10,\n          currentFrame: 0,\n          previousPlayer: innerTile.player,\n        }\n      }\n\n      if (innerTile.targetFrame === undefined) return { ...innerTile, ...tile }\n      if (innerTile.currentFrame >= innerTile.targetFrame) return { ...innerTile, ...tile }\n\n      const nextFramePercent = (innerTile.currentFrame + delta) / innerTile.targetFrame\n      const easeNextFramePercent = Math.min(1, easing.linear(nextFramePercent))\n\n      const [prevR, prevG, prevB] = hexRgb(getTint(innerTile.previousPlayer))\n\n      const nextValue = (value, targetValue) => {\n        const distance = targetValue - value\n        if (distance === 0) return value\n\n        const nextDistance = easeNextFramePercent * distance\n        const newValue = nextDistance + value\n\n        return Math.round(newValue)\n      }\n\n      const newTint = rgbHex(\n        nextValue(prevR, innerTile.targetR),\n        nextValue(prevG, innerTile.targetG),\n        nextValue(prevB, innerTile.targetB),\n      )\n\n      const newTile = {\n        ...innerTile,\n        ...tile,\n        tint: newTint,\n        currentFrame: innerTile.currentFrame + delta,\n      }\n\n      return newTile\n    })))\n  })\n\n  return [].concat(...tiles.map(line => line.map(tile => (\n    <Tile\n      key={`${tile.x}-${tile.y}`}\n      {...tile}\n    />\n  ))))\n}\n\nconst Wrapper = (props) => (\n  <Container {...props}>\n    <Tiles />\n  </Container>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect, memo } from 'react'\nimport { Sprite, useTick } from '@inlet/react-pixi'\nimport { easing } from '@2-game/utils'\nimport star from './star.png'\n\nconst Star = ({\n  x,\n  y,\n  targetX,\n  targetY,\n  speed, // px per seconds\n  easeTime = 'linear',\n  easeX = 'linear',\n  easeY = 'linear',\n  ...props,\n}) => {\n  const [currentFrame, setCurrentFrame] = useState(0)\n  const [target, setTarget] = useState({\n    distance: 0,\n    frames: 0,\n    x: targetX,\n    y: targetY,\n  })\n  const [position, setPosition] = useState({\n    x: x,\n    y: y,\n  })\n\n  useEffect(\n    () => {\n      const distance = Math.sqrt((targetX - x) ** 2 + (targetY - y) ** 2)\n      const frames = distance / (speed / 60)\n\n      setTarget({\n        ...target,\n        distance,\n        frames,\n      })\n\n      setCurrentFrame(0)\n    },\n    [targetX, targetY, x, y, speed],\n  )\n\n  useEffect(\n    () => {\n      if (target.distance === 0) return\n\n      const nextFramePercent = (currentFrame / target.frames)\n      const easeNextFramePercent = easing[easeTime](nextFramePercent)\n      const nextDistance = easeNextFramePercent * target.distance\n\n      const percentDistance = nextDistance / target.distance\n\n      const nextX = ((target.x - x) * easing[easeX](percentDistance)) + x\n      const nextY = ((target.y - y) * easing[easeY](percentDistance)) + y\n\n      setPosition({\n        x: nextX,\n        y: nextY,\n      })\n    },\n    [currentFrame],\n  )\n\n  useTick((delta) => {\n    if (target.distance === 0) return\n    if (target.frames <= currentFrame) return\n\n    setCurrentFrame(currentFrame + delta)\n  })\n\n  return (\n    <Sprite\n      {...props}\n      image={star}\n      x={position.x}\n      y={position.y}\n      anchor={0.5}\n    />\n  )\n}\n\nexport default memo(Star)\n","import React, { useState, useLayoutEffect } from 'react'\nimport { random, easing, darker } from '@2-game/utils'\nimport { useTick, ParticleContainer } from '@inlet/react-pixi'\nimport Star from './star'\n\nconst getStars = (count, windowWidth, windowHeight) => Array\n  .from({ length: count })\n  .map((_, index) => {\n    const x = random(50, windowWidth - 100)\n    const y = random(50, windowHeight - 100)\n    return {\n      key: index,\n      x,\n      y,\n      targetX: random(50, windowWidth - 100),\n      targetY: random(50, windowHeight - 100),\n      speed: random(5, 10),\n      scale: random(0.5, 3),\n      easeTime: 'easeOutCubic',\n      easeX: 'easeInCubic',\n      easeY: 'easeInQuint',\n    }\n  })\n\nconst BEATING = 400 // frames\n\nconst Stars = ({ count = 20, windowWidth, windowHeight }) => {\n  const [stars, setStars] = useState(getStars(count, windowWidth, windowHeight))\n  const [frame, setFrame] = useState(0)\n  const [endAnimationFrame, setEndAnimationFrame] = useState(frame + BEATING)\n  const [disapeared, setDisapeared] = useState(true)\n  const [tint, setTint] = useState(0)\n\n  useTick((delta) => {\n    setFrame(frame => frame + delta)\n  })\n\n  useLayoutEffect(() => {\n    if (endAnimationFrame <= frame) {\n      setEndAnimationFrame(frame => frame + BEATING)\n      setDisapeared(disapeared => !disapeared)\n\n      if (disapeared) setStars(getStars(count, windowWidth, windowHeight))\n    }\n\n    if (endAnimationFrame) {\n      if (disapeared) setTint(Math.max(0x222222, darker(0xFFFFFF, easing.easeOutCubic((endAnimationFrame - frame) / BEATING))))\n      else setTint(Math.max(0x222222, darker(0xFFFFFF, easing.easeInCubic(1 - (endAnimationFrame - frame) / BEATING))))\n    }\n  }, [frame, disapeared, endAnimationFrame])\n\n  return (\n    <ParticleContainer\n      tint={tint}\n    >\n      {stars.map(star => React.createElement(Star, star))}\n    </ParticleContainer>\n  )\n}\n\nexport default Stars\n","import React, { useState, useEffect, useRef, useLayoutEffect } from 'react'\nimport { Stage } from '@inlet/react-pixi'\nimport Camera from './camera'\nimport Tiles from './tiles'\nimport Stars from './stars'\nimport BoardContext from '../contexts/board'\nimport './game.css'\n\nconst Game = ({ width, height }) => {\n  const [[windowWidth, windowHeight], setSize] = useState([])\n  const [mask, setMask] = useState(null)\n  const maskRef = useRef(undefined)\n\n  useEffect(\n    () => {\n      setSize([\n        window.innerWidth - 20,\n        window.innerHeight - 20,\n      ])\n    },\n    []\n  )\n\n  useLayoutEffect(() => {\n    if (mask !== maskRef.current) setMask(maskRef.current)\n  })\n\n  if (!windowWidth || !windowHeight) return false\n  return (\n    <BoardContext.Consumer>\n      {value => (\n        <Stage\n          width={windowWidth}\n          height={windowHeight}\n          options={{\n            autoResize: true,\n            transparent: true,\n            forceFXAA: true,\n            resolution: window.devicePixelRatio,\n            autoDensity: true,\n            roundPixel: false,\n            resizeTo: window,\n          }}\n        >\n          <BoardContext.Provider value={value}>\n            <Stars\n              windowWidth={windowWidth}\n              windowHeight={windowHeight}\n            />\n\n            <Camera\n              windowWidth={windowWidth}\n              windowHeight={windowHeight}\n              width={width}\n              height={height}\n            >\n              <Tiles  />\n            </Camera>\n          </BoardContext.Provider>\n        </Stage >\n      )}\n    </BoardContext.Consumer>\n  )\n}\n\nexport default Game\n","import React, { useContext, useEffect } from 'react'\nimport cn from 'classnames'\nimport BoardContext from '../contexts/board'\nimport './ui.css'\n\nconst UI = () => {\n  const {\n    turn,\n    players,\n    balances,\n    next,\n    setNewAsset,\n    newAsset,\n  } = useContext(BoardContext)\n\n  useEffect(() => {\n    const listener = ({ keyCode, repeat }) => {\n      if (repeat) return\n      if (keyCode === 49) setNewAsset('house')\n      if (keyCode === 50) setNewAsset('villager')\n      if (keyCode === 51) setNewAsset('soldier')\n      if (keyCode === 52) setNewAsset('king')\n      if (keyCode === 13) next()\n    }\n\n    document.addEventListener('keydown', listener)\n\n    return () => {\n      document.removeEventListener('keydown', listener)\n    }\n  }, [setNewAsset, next])\n\n  return (\n    <div className=\"ui\">\n      <div className=\"infos\">\n        <h1>2-game</h1>\n        <h3>{`${turn} turn!`}</h3>\n\n        <div className=\"balances\">\n          {players.map(({ name, gold }) => (\n            <div\n              key={name}\n              className={cn(\n                'balance',\n                {\n                  selected: name === turn,\n                },\n              )}\n            >\n              <div className=\"player\">{name}:</div>\n              <div className=\"gold\">{gold}</div>\n              <div className=\"value\">({balances[name] >= 0 ? '+' : ''}{balances[name]})</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className={cn('actions', turn)}>\n        <button\n          onClick={() => setNewAsset('house')}\n          className={cn({ selected: newAsset === 'house' })}\n        >\n          House [10/+10]\n        </button>\n        <button\n          onClick={() => setNewAsset('villager')}\n          className={cn({ selected: newAsset === 'villager' })}\n        >\n          Villager [10/-5]\n        </button>\n        <button\n          onClick={() => setNewAsset('soldier')}\n          className={cn({ selected: newAsset === 'soldier' })}\n        >\n          Soldier [20/-20]\n        </button>\n        <button\n          onClick={() => setNewAsset('king')}\n          className={cn({ selected: newAsset === 'king' })}\n        >\n          King [40/-40]\n        </button>\n        <button\n          onClick={next}\n          className=\"next\"\n        >\n          {turn === 'player1' ? 'To player 2' : 'Next turn'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default UI\n","import React from 'react'\nimport Game from './game'\nimport UI from './ui'\nimport { BoardProvider } from './contexts/board'\n\nconst App = () => {\n  const width = 12\n  const height = 12\n\n  return (\n    <BoardProvider\n      width={width}\n      height={height}\n    >\n      <Game\n        width={width}\n        height={height}\n      />\n\n      <UI />\n    </BoardProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.body);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar tileExists = function tileExists(tiles) {\n  return function (x, y) {\n    return !!(tiles[y] && tiles[y][x] && !tiles[y][x].empty);\n  };\n};\n\nvar isSamePlayer = function isSamePlayer(tiles) {\n  return function (x, y, player) {\n    return tileExists(tiles)(x, y) && tiles[y][x].player === player;\n  };\n};\n\nvar isOneOfEnemyUnits = function isOneOfEnemyUnits(tiles) {\n  return function (x, y, player, units) {\n    return !!(tileExists(tiles)(x, y) && tiles[y][x].player !== player && tiles[y][x].unit && units.includes(tiles[y][x].unit));\n  };\n};\n\nvar getAroundArea = function getAroundArea(x, y) {\n  return [[x, y], [x - 1, y], [x + 1, y], [x, y - 1], [y % 2 === 1 ? x + 1 : x - 1, y - 1], [x, y + 1], [y % 2 === 1 ? x + 1 : x - 1, y + 1]];\n};\n\nexports.isSamePlayerAround = function (tiles) {\n  return function (x, y, player) {\n    return !!getAroundArea(x, y).find(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return isSamePlayer(tiles)(x, y, player);\n    });\n  };\n};\n\nexports.isOneOfEnemyUnitsAround = function (tiles) {\n  return function (x, y, player, units) {\n    return !!getAroundArea(x, y).find(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return isOneOfEnemyUnits(tiles)(x, y, player, units);\n    });\n  };\n};\n\nexports.getEmptyTilesAround = function (tiles) {\n  return function (x, y) {\n    return getAroundArea(x, y).filter(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return tileExists(tiles)(x, y) && tiles[y][x].unit === undefined;\n    });\n  };\n};\n\nexports.getUnitBalance = function (unit) {\n  switch (unit) {\n    case 'house':\n      return 10;\n\n    case 'villager':\n      return -5;\n\n    case 'soldier':\n      return -20;\n\n    case 'king':\n      return -40;\n\n    case 'tree':\n      return -1;\n\n    default:\n      throw new Error(\"unknown unit balance: \" + unit);\n  }\n};\n\nexports.getUnitCost = function (unit) {\n  switch (unit) {\n    case 'house':\n      return 10;\n\n    case 'villager':\n      return 10;\n\n    case 'soldier':\n      return 20;\n\n    case 'king':\n      return 40;\n\n    default:\n      throw new Error(\"unknown unit cost: \" + unit);\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.random = function (x, y) {\n  return Math.round(Math.random() * (y - x) + x);\n};\n\nexports.hexRgb = function (hex) {\n  var r = hex >> 16 & 255;\n  var g = hex >> 8 & 255;\n  var b = hex & 255;\n  return [r, g, b];\n};\n\nexports.rgbHex = function (r, g, b) {\n  return b | g << 8 | r << 16;\n};\n\nexports.darker = function (hex, coeff) {\n  if (coeff === void 0) {\n    coeff = 0.75;\n  }\n\n  var _a = exports.hexRgb(hex),\n      r = _a[0],\n      g = _a[1],\n      b = _a[2];\n\n  return exports.rgbHex(r * coeff, g * coeff, b * coeff);\n};\n\nexports.easing = {\n  linear: function linear(t) {\n    return t;\n  },\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  easeOutQuart: function easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  easeInOutQuart: function easeInOutQuart(t) {\n    return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  easeOutQuint: function easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  easeInOutQuint: function easeInOutQuint(t) {\n    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  },\n  easeInElastic: function easeInElastic(t) {\n    return (.04 - .04 / t) * Math.sin(25 * t) + 1;\n  },\n  easeOutElastic: function easeOutElastic(t) {\n    return .04 * t / --t * Math.sin(25 * t);\n  },\n  easeInOutElastic: function easeInOutElastic(t) {\n    return (t -= .5) < 0 ? (.02 + .01 / t) * Math.sin(90 * t) : (.02 - .01 / t) * Math.sin(90 * t) + 1;\n  },\n  easeInSin: function easeInSin(t) {\n    return 1 + Math.sin(Math.PI / 2 * t - Math.PI / 2);\n  },\n  easeOutSin: function easeOutSin(t) {\n    return Math.sin(Math.PI / 2 * t);\n  },\n  easeInOutSin: function easeInOutSin(t) {\n    return (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2;\n  }\n};"],"sourceRoot":""}