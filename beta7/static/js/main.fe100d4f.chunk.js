(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(95),c=n.n(i),u=n(5),o=n(8),s=n(4),l=n(15),f=function(e){var t=e.children,n=e.width,i=e.height,c=e.windowWidth,f=e.windowHeight,h=Object(l.a)(e,["children","width","height","windowWidth","windowHeight"]),d=Object(r.useState)(.4),g=Object(u.a)(d,2),A=g[0],m=g[1],O=Object(r.useState)([(c-n*A)/2,(f-i*A)/2]),b=Object(u.a)(O,2),p=Object(u.a)(b[0],2),v=p[0],w=p[1],j=b[1],E=Object(r.useRef)(null);return Object(r.useEffect)(function(){E.current.interactive=!0,E.current.hitArea=new s.Rectangle(0,0,n,i),document.body.addEventListener("wheel",function(e){e.preventDefault(),m(function(t){return Math.max(.1,Math.min(3,t-e.deltaY/100))})}),E.current.on("pointerupoutside",function(){E.current.clickStart=void 0,E.current.pinchStart=void 0}),E.current.on("pointerup",function(){E.current.clickStart=void 0,E.current.pinchStart=void 0}),E.current.on("pointermove",function(e){var t=e.data,n=t.global,r=t.buttons;if(e.data.originalEvent.touches&&e.data.originalEvent.touches.length>1){var a=Object(u.a)(e.data.originalEvent.touches,2),i=a[0],c=i.clientX,o=i.clientY,s=a[1],l=s.clientX,f=s.clientY,h=Math.pow(l-c,2)+Math.pow(f-o,2);return E.current.pinchStart&&m(function(e){return Math.max(.1,Math.min(3,e+(h-E.current.pinchStart)/1e5))}),void(E.current.pinchStart=h)}if(0!==r){var d=n.x,g=n.y;if(E.current.clickStart){var A=Object(u.a)(E.current.clickStart,2),O=A[0],b=A[1];j(function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return[n+d-O,r+g-b]})}E.current.clickStart=[d,g]}})},[]),a.a.createElement(o.Container,Object.assign({},h,{ref:E,x:v,y:w,scale:A}),t)},h=n(98),d=n(12),g=function(e,t){return Math.round(Math.random()*(t-e)+e)},A=function(e){return[e>>16&255,e>>8&255,255&e]},m={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeInElastic:function(e){return(.04-.04/e)*Math.sin(25*e)+1},easeOutElastic:function(e){return.04*e/--e*Math.sin(25*e)},easeInOutElastic:function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(90*e):(.02-.01/e)*Math.sin(90*e)+1},easeInSin:function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},easeOutSin:function(e){return Math.sin(Math.PI/2*e)},easeInOutSin:function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}},O=Object(r.createContext)(),b=function(e){var t=e.children,n=e.width,i=e.height,c=Object(r.useState)(function(e,t){for(var n=[],r=Math.round(g(0,Math.ceil(e/20))),a=Math.round(g(0,Math.ceil(t/15))),i={x:Math.round(g(0,Math.ceil(e/20))),y:Math.round(g(0,Math.ceil(t/15)))};i.x===r;)i.x=g(0,Math.round(e/20));for(var c=0;c<Math.round(e/20);c+=1){var u=[];n.push(u);for(var o=0;o<Math.round(t/15);o+=1){var s=void 0;r===c&&a===o&&(s="player1"),i.x===c&&i.y===o&&(s="player2"),u.push({key:"".concat(c,"-").concat(o),x:20*c+o%2*10,y:15*o,player:s})}}return n}(n,i)),o=Object(u.a)(c,2),s=o[0],l=o[1];return a.a.createElement(O.Provider,{value:{getData:function(){return s},next:function(){l(function(e){return e.map(function(e,t){return e.map(function(e,n){return Object(d.a)({},e,{player:function(){if(e.player)return e.player;var r=function(e,t){return s[e]&&s[e][t]&&s[e][t].player&&s[e][t].player};return r(t-1,n)||r(t+1,n)||r(n%2?t:t-1,n-1)||r(n%2?t+1:t,n-1)||r(n%2?t:t-1,n+1)||r(n%2?t+1:t,n+1)||void 0}()})})})})}}},t)},p=O,v=n(96),w=n.n(v),j=function(e){return a.a.createElement(o.Sprite,Object.assign({image:w.a,anchor:.5},e))},E=function(e){switch(e){case"player1":return 13377568;case"player2":return 2105548;default:return 16777215}},y=function(){var e,t=Object(r.useState)([]),n=Object(u.a)(t,2),i=n[0],c=n[1],s=(Object(r.useContext)(p)||{}).getData;return Object(o.useTick)(function(e){c(s().map(function(t,n){return t.map(function(t,r){if(!i[n]||!i[n][r])return Object(d.a)({},t,{tint:E(t.player)});var a=i[n][r];if(a.player!==t.player){var c=A(E(t.player)),o=Object(u.a)(c,3),s=o[0],l=o[1],f=o[2];return Object(d.a)({},t,{targetR:s,targetG:l,targetB:f,targetFrame:10,currentFrame:0,previousPlayer:a.player})}if(void 0===a.targetFrame)return a;if(a.currentFrame>=a.targetFrame)return a;var h,g,O=(a.currentFrame+e)/a.targetFrame,b=Math.min(1,m.linear(O)),p=A(E(a.previousPlayer)),v=Object(u.a)(p,3),w=v[0],j=v[1],y=v[2],M=function(e,t){var n=t-e;if(0===n)return e;var r=b*n+e;return Math.round(r)},x=(h=M(w,a.targetR),g=M(j,a.targetG),M(y,a.targetB)|g<<8|h<<16);return Object(d.a)({},a,{tint:x,currentFrame:a.currentFrame+e})})}))}),(e=[]).concat.apply(e,Object(h.a)(i.map(function(e){return e.map(function(e){var t=e.key,n=e.x,r=e.y,i=e.tint;return a.a.createElement(j,{key:t,x:n,y:r,tint:i||16777215})})})))},M=function(e){return a.a.createElement(o.Container,e,a.a.createElement(y,null))},x=n(97),S=n.n(x),B=function(e){var t=e.x,n=e.y,i=e.targetX,c=e.targetY,s=e.speed,f=e.easeTime,h=void 0===f?"linear":f,g=e.easeX,A=void 0===g?"linear":g,O=e.easeY,b=void 0===O?"linear":O,p=Object(l.a)(e,["x","y","targetX","targetY","speed","easeTime","easeX","easeY"]),v=Object(r.useState)(0),w=Object(u.a)(v,2),j=w[0],E=w[1],y=Object(r.useState)({distance:0,frames:0,x:i,y:c}),M=Object(u.a)(y,2),x=M[0],B=M[1],C=Object(r.useState)({x:t,y:n}),k=Object(u.a)(C,2),I=k[0],Q=k[1];return Object(r.useEffect)(function(){var e=Math.sqrt(Math.pow(i-t,2)+Math.pow(c-n,2)),r=e/(s/60);B(Object(d.a)({},x,{distance:e,frames:r})),E(0)},[i,c,t,n,s]),Object(r.useEffect)(function(){if(0!==x.distance){var e=j/x.frames,r=m[h](e)*x.distance/x.distance,a=(x.x-t)*m[A](r)+t,i=(x.y-n)*m[b](r)+n;Q({x:a,y:i})}},[j]),Object(o.useTick)(function(e){0!==x.distance&&(x.frames<=j||E(j+e))}),a.a.createElement(o.Sprite,Object.assign({},p,{image:S.a,x:I.x,y:I.y,interactive:!1,anchor:.5}))},C=function(e){return Array.from({length:e}).map(function(e,t){return{key:t,x:g(50,750),y:g(50,550),targetX:g(50,750),targetY:g(50,550),speed:g(100,200),scale:g(.5,2),tint:g(5592405,16777215),easeTime:"easeOutCubic",easeX:"easeInCubic",easeY:"easeInQuint"}})},k=function(e){var t=e.count,n=Object(r.useState)([]),i=Object(u.a)(n,2),c=i[0],o=i[1];return Object(r.useEffect)(function(){o(C(t)),setInterval(function(){o(C(t))},3e3)},[]),c.map(function(e){return a.a.createElement(B,e)})},I=function(e){return a.a.createElement(o.ParticleContainer,null,a.a.createElement(k,{count:10}))},Q=function(e){var t=e.width,n=e.height,i=Object(l.a)(e,["width","height"]),c=Object(r.useState)(),f=Object(u.a)(c,2),h=f[0],d=f[1],g=Object(o.useApp)();return Object(r.useEffect)(function(){var e=s.RenderTexture.create(t,n),r=new s.Graphics;r.clear(),r.beginFill(0,.5),r.drawRect(0,0,t,n),r.endFill(),r.beginFill(16777215,1),r.drawCircle(t/2,n/2,100),r.endFill(),g.renderer.render(r,e),d(e)},[t,n]),h?a.a.createElement(o.Sprite,Object.assign({},i,{texture:h,width:t,height:n,x:0,y:0})):null},F=(n(206),function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=Object(u.a)(t[0],2),i=n[0],c=n[1],l=t[1],h=Object(r.useState)(null),d=Object(u.a)(h,2),g=d[0],A=d[1],m=Object(r.useRef)(void 0);return Object(r.useEffect)(function(){l([window.innerWidth-20,window.innerHeight-20])},[]),Object(r.useLayoutEffect)(function(){g!==m.current&&A(m.current)}),!(!i||!c)&&a.a.createElement(p.Consumer,null,function(e){return a.a.createElement(o.Stage,{width:i,height:c,options:{autoResize:!0,transparent:!0,forceFXAA:!0,resolution:window.devicePixelRatio,autoDensity:!0,roundPixel:!1,resizeTo:window}},a.a.createElement(p.Provider,{value:e},a.a.createElement(I,null),a.a.createElement(f,{windowWidth:i,windowHeight:c,width:800,height:600},a.a.createElement(M,null)),a.a.createElement(Q,{width:i,height:c,blendMode:s.BLEND_MODES.MULTIPLY})))})}),X=(n(207),function(){var e=Object(r.useContext)(p).next;return a.a.createElement("div",{className:"ui"},a.a.createElement("h1",null,"2-game"),a.a.createElement("button",{onClick:e},"next turn"))}),R=function(){return a.a.createElement(b,{width:780,height:480},a.a.createElement(F,null),a.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(R,null),document.body),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},96:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQ4y63VPQ6AIAwGUOAmXsDdAQ8vg7sXcHX1BCgkJeWvBGgTY2zsC0LyKQRRhzmFfR+LL9ejStYgvS4W98x1+/vfh2e5640GMeQANJwN1mBZgpIB8hNTWLp9SQd7MVyKEwsgFxaBHJg/FNhDDixa4SwG84oTyw5lFmuCPRi8qzixKjiKBRA3Z7BiOIxiIRxaOdjCivHVCthKeBQDVnD/Aj5qzqRvxuJvXgAAAABJRU5ErkJggg=="},97:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAABY0lEQVR42uxXyw3CMAxtSoEFYALEHalDwApwYAtOwAm4MQUHWAGG4MC5YgKYgI9CHTWldZ0moQVxqCVEZFt+ieM8u4xz7lDCGMsYQl9m6yPFk4v1qRkrJ70b3y88x++wDHioF8rB/MEv2zq5QekjpT+7v4EoaQ1v8fq6a2TsxzMXQfJ8pLjOj+T/gCBNXwM6LOupfygQKAL4wZryUYmn2wkOIAHyfKpiiCW8k49s/3siqgBMbFZVl5cmUxDBgcDemIXzAkhuU5U0EHF7dM8wugcgq3GttLsABsGsDhjk1o8Bd/wuM3rApnRFpk6eUAVme5cidVHgVMTp5inSiU+GGyG1ewDBjc+q6gAk2QhjfdTsdOzuFgHBXbgi1QqoPCAoXdXMBnqTwcX4HUEwXzFElt4mioxcdkABDWTCiW5REJ3N6kS6AYQiYGsgAMHsjiXJ9skuXD3YUoTpvmFV36S2/i8BBgBIxbG+UAC9ywAAAABJRU5ErkJggg=="},99:function(e,t,n){e.exports=n(208)}},[[99,1,2]]]);
//# sourceMappingURL=main.fe100d4f.chunk.js.map