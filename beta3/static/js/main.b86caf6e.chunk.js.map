{"version":3,"sources":["../../utils/src/index.js","tiles/tile.jsx","tiles/tiles.jsx","bunnies/bunny.jsx","bunnies/bunnies.jsx","app.jsx","serviceWorker.js","index.js","tiles/tile.png","bunnies/bunny.png"],"names":["random","x","y","Math","hexRgb","value","easing","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInElastic","sin","easeOutElastic","easeInOutElastic","easeInSin","PI","easeOutSin","easeInOutSin","Tile","props","react_default","a","createElement","react_pixi_module","Object","assign","image","tile","anchor","getTint","player","Tiles","_ref","_ref2","width","height","_useState","useState","tiles","player1","round","ceil","player2","floor","i","line","push","j","undefined","key","concat","tint","getTiles","_useState2","slicedToArray","setTiles","_useState3","Date","now","_useState4","time","setTime","useTick","delta","map","newPlayer","newTile","objectSpread","_hexRgb","_hexRgb2","r","g","b","currentFrame","targetFrame","previousTint","targetTint","targetR","targetG","targetB","nextTurn","nextFramePercent","easeNextFramePercent","min","_hexRgb3","_hexRgb4","prevR","prevG","prevB","nextValue","targetValue","distance","newValue","newTint","apply","toConsumableArray","_ref3","src_tiles_tile","Wrapper","tiles_Tiles","Bunny","targetX","targetY","speed","_ref$easeTime","easeTime","_ref$easeX","easeX","_ref$easeY","easeY","objectWithoutProperties","setCurrentFrame","frames","target","setTarget","_useState5","_useState6","position","setPosition","useEffect","sqrt","pow","percentDistance","nextX","nextY","bunny","interactive","getBunnys","count","Array","from","length","_","index","scale","Bunnys","bunnys","setBunnys","setInterval","React","bunnies_Bunnys","PIXI","SCALE_MODE","NEAREST","CAN_UPLOAD_SAME_BUFFER","App","options","backgroundColor","antialias","roundPixel","clearBeforeRender","preserveDrawingBuffer","tiles_tiles","bunnies","interactiveChildren","Boolean","window","location","hostname","match","ReactDOM","render","app","document","body","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.b86caf6e.chunk.js","sourcesContent":["export var random = function random(x, y) {\n  return Math.random() * (y - x) + x;\n};\nexport var hexRgb = function hexRgb(value) {\n  var r = value >> 16 & 255;\n  var g = value >> 8 & 255;\n  var b = value & 255;\n  return [r, g, b];\n};\nexport var rgbHex = function rgbHex(r, g, b) {\n  return b | g << 8 | r << 16;\n}; // source: https://gist.github.com/gre/1650294\n\nexport var easing = {\n  // no easing, no acceleration\n  linear: function linear(t) {\n    return t;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n  // accelerating from zero velocity\n  easeInCubic: function easeInCubic(t) {\n    return t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutCubic: function easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: function easeInOutCubic(t) {\n    return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n  // accelerating from zero velocity\n  easeInQuart: function easeInQuart(t) {\n    return t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuart: function easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(t) {\n    return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: function easeInOutQuint(t) {\n    return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  },\n  // elastic bounce effect at the beginning\n  easeInElastic: function easeInElastic(t) {\n    return (.04 - .04 / t) * Math.sin(25 * t) + 1;\n  },\n  // elastic bounce effect at the end\n  easeOutElastic: function easeOutElastic(t) {\n    return .04 * t / --t * Math.sin(25 * t);\n  },\n  // elastic bounce effect at the beginning and end\n  easeInOutElastic: function easeInOutElastic(t) {\n    return (t -= .5) < 0 ? (.02 + .01 / t) * Math.sin(90 * t) : (.02 - .01 / t) * Math.sin(90 * t) + 1;\n  },\n  easeInSin: function easeInSin(t) {\n    return 1 + Math.sin(Math.PI / 2 * t - Math.PI / 2);\n  },\n  easeOutSin: function easeOutSin(t) {\n    return Math.sin(Math.PI / 2 * t);\n  },\n  easeInOutSin: function easeInOutSin(t) {\n    return (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2;\n  }\n};","import React from 'react'\nimport { Sprite } from '@inlet/react-pixi'\nimport tile from './tile.png'\n\nconst Tile = (props) => (\n  <Sprite\n    image={tile}\n    anchor={0.5}\n    {...props}\n  />\n)\n\nexport default Tile\n","import React, { useState } from 'react'\nimport { ParticleContainer, useTick } from '@inlet/react-pixi'\nimport { random, easing, hexRgb, rgbHex } from '@2-game/utils'\nimport Tile from './tile'\n\nconst getTint = (player) => {\n  switch (player) {\n    case 'player1': return 0xcc2020\n    case 'player2': return 0x2020cc\n    default: return 0xffffff\n  }\n}\n\nconst getTiles = (width, height) => {\n  const tiles = []\n\n  const player1 = {\n    x: Math.round(random(0, Math.ceil(width / 20))),\n    y: Math.round(random(0, Math.ceil(height / 15))),\n  }\n\n  const player2 = {\n    x: Math.round(random(0, Math.ceil(width / 20))),\n    y: Math.round(random(0, Math.ceil(height / 15))),\n  }\n\n  while (player2.x === player1.x) player2.x = random(0, Math.floor(width / 20))\n\n  for (let i = 0; i < Math.floor(width / 20); i += 1) {\n    const line = []\n    tiles.push(line)\n\n    for (let j = 0; j < Math.floor(height / 15); j += 1) {\n      let player = undefined\n      if (player1.x === i && player1.y === j) player = 'player1'\n      if (player2.x === i && player2.y === j) player = 'player2'\n\n      line.push({\n        key: `${i}-${j}`,\n        x: i * 20 + (j % 2 * 10),\n        y: j * 15,\n        player,\n        tint: getTint(player),\n      })\n    }\n  }\n\n  return tiles\n}\n\nconst nextTurn = (tiles, time, setTime) => {\n  if (Date.now() - time < 500) return tiles\n  setTime(Date.now())\n\n  return tiles\n    .map((line, x) => line.map((tile, y) => {\n      const getPlayer = () => {\n        if (tile.player) return tile.player\n        if (tiles[x - 1] && tiles[x - 1][y] && tiles[x - 1][y].player) return tiles[x - 1][y].player\n        if (tiles[x + 1] && tiles[x + 1][y] && tiles[x + 1][y].player) return tiles[x + 1][y].player\n        if (line[y - 1] && line[y - 1].player) return line[y - 1].player\n        if (line[y + 1] && line[y + 1].player) return line[y + 1].player\n\n        return undefined\n      }\n\n      const newPlayer = getPlayer()\n      const newTile = { ...tile }\n      if (tile.player !== newPlayer) {\n        const tint = getTint(newPlayer)\n        const [r, g, b] = hexRgb(tint)\n\n        newTile.player = newPlayer\n        newTile.currentFrame = 0\n        newTile.targetFrame = 20\n        newTile.previousTint = tile.tint || 0xffffff\n        newTile.targetTint = tint\n        newTile.targetR = r\n        newTile.targetG = g\n        newTile.targetB = b\n        newTile.tint = 0xffffff\n      }\n\n      return newTile\n    }))\n}\n\nconst Tiles = ({ width, height }) => {\n  const [tiles, setTiles] = useState(getTiles(width, height))\n  const [time, setTime] = useState(Date.now())\n\n  useTick((delta) => {\n    setTiles(nextTurn(tiles, time, setTime).map((line, x) => line.map((tile, y) => {\n      if (tile.targetFrame === undefined) return tile\n      if (tile.currentFrame >= tile.targetFrame) return tile\n\n      const nextFramePercent = (tile.currentFrame + delta) / tile.targetFrame\n      const easeNextFramePercent = Math.min(1, easing.linear(nextFramePercent))\n\n      const [prevR, prevG, prevB] = hexRgb(tile.previousTint)\n\n      const nextValue = (value, targetValue) => {\n        const distance = targetValue - value\n        if (distance === 0) return value\n\n        const nextDistance = easeNextFramePercent * distance\n        const newValue = nextDistance + value\n\n        return Math.round(newValue)\n      }\n\n      const newTint = rgbHex(\n        nextValue(prevR, tile.targetR),\n        nextValue(prevG, tile.targetG),\n        nextValue(prevB, tile.targetB),\n      )\n\n      const newTile = {\n        ...tile,\n        tint: newTint,\n        currentFrame: tile.currentFrame + delta,\n      }\n\n      return newTile\n    })))\n  })\n\n  return [].concat(...tiles.map(line => line.map(({ key, x, y, tint }) => (\n    <Tile\n      key={key}\n      x={x}\n      y={y}\n      tint={tint}\n    />\n  ))))\n}\n\nconst Wrapper = (props) => (\n  <ParticleContainer {...props}>\n    <Tiles\n      width={780}\n      height={580}\n    />\n  </ParticleContainer>\n)\n\nexport default Wrapper\n","import React, { useState, useEffect } from 'react'\nimport { Sprite, useTick } from '@inlet/react-pixi'\nimport { easing } from '@2-game/utils'\nimport bunny from './bunny.png'\n\n// const texture = new PIXI.Texture.fromImage(bunny)\n\nconst Bunny = ({\n  x,\n  y,\n  targetX,\n  targetY,\n  speed, // px per seconds\n  easeTime = 'linear',\n  easeX = 'linear',\n  easeY = 'linear',\n  ...props,\n}) => {\n  const [currentFrame, setCurrentFrame] = useState(0)\n  const [target, setTarget] = useState({\n    distance: 0,\n    frames: 0,\n    x: targetX,\n    y: targetY,\n  })\n  const [position, setPosition] = useState({\n    x: x,\n    y: y,\n  })\n\n  useEffect(\n    () => {\n      const distance = Math.sqrt((targetX - x) ** 2 + (targetY - y) ** 2)\n      const frames = distance / (speed / 60)\n\n      setTarget({\n        ...target,\n        distance,\n        frames,\n      })\n\n      setCurrentFrame(0)\n    },\n    [targetX, targetY, x, y, speed],\n  )\n\n  useEffect(\n    () => {\n      if (target.distance === 0) return\n\n      const nextFramePercent = (currentFrame / target.frames)\n      const easeNextFramePercent = easing[easeTime](nextFramePercent)\n      const nextDistance = easeNextFramePercent * target.distance\n\n      const percentDistance = nextDistance / target.distance\n\n      const nextX = ((target.x - x) * easing[easeX](percentDistance)) + x\n      const nextY = ((target.y - y) * easing[easeY](percentDistance)) + y\n\n      setPosition({\n        x: nextX,\n        y: nextY,\n      })\n    },\n    [currentFrame],\n  )\n\n  useTick((delta) => {\n    if (target.distance === 0) return\n    if (target.frames <= currentFrame) return\n\n    setCurrentFrame(currentFrame + delta)\n  })\n\n  return (\n    <Sprite\n      {...props}\n      // texture={texture}\n      image={bunny}\n      // cacheAsBitmap={true}\n      x={position.x}\n      y={position.y}\n      interactive={false}\n      anchor={0.5}\n    />\n  )\n}\n\nexport default Bunny\n","import React, { useState, useEffect } from 'react'\nimport { random } from '@2-game/utils'\nimport { ParticleContainer } from '@inlet/react-pixi'\nimport Bunny from './bunny'\n\nconst getBunnys = (count) => Array\n  .from({ length: count })\n  .map((_, index) => {\n    const x = random(50, 750)\n    const y = random(50, 550)\n    return {\n      key: index,\n      x,\n      y,\n      targetX: random(50, 750),\n      targetY: random(50, 550),\n      speed: random(100, 200),\n      scale: random(0.5, 2),\n      tint: random(0x555555, 0xffffff),\n      easeTime: 'easeOutCubic',\n      easeX: 'easeInCubic',\n      easeY: 'easeInQuint',\n    }\n  })\n\nconst Bunnys = ({ count }) => {\n  const [bunnys, setBunnys] = useState([])\n\n  useEffect(() => {\n    setBunnys(getBunnys(count))\n\n    setInterval(\n      () => {\n        setBunnys(getBunnys(count))\n      },\n      3000,\n    )\n  }, [])\n\n  return bunnys.map(bunny => React.createElement(Bunny, bunny))\n}\n\nconst Wrapper = (props) => (\n  <ParticleContainer {...props}>\n    <Bunnys count={10} />\n  </ParticleContainer>\n)\n\nexport default Wrapper\n","import React from 'react'\nimport { Stage } from '@inlet/react-pixi'\nimport * as PIXI from 'pixi.js'\nimport Tiles from './tiles'\nimport Bunnies from './bunnies'\n\n// PIXI.settings.RESOLUTION = window.devicePixelRatio;\nPIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\nPIXI.settings.CAN_UPLOAD_SAME_BUFFER = true\n\nconst App = () => (\n  <Stage\n    width={800}\n    height={600}\n    options={{\n      backgroundColor: 0xFFFFFF,\n      antialias: false,\n      roundPixel: false,\n      clearBeforeRender: true,\n      preserveDrawingBuffer: true,\n    }}\n  >\n    <Tiles\n      x={10}\n      y={10}\n    />\n\n    <Bunnies\n      interactive={false}\n      interactiveChildren={false}\n    />\n  </Stage >\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.body);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVQ4y63VPQ6AIAwGUOAmXsDdAQ8vg7sXcHX1BCgkJeWvBGgTY2zsC0LyKQRRhzmFfR+LL9ejStYgvS4W98x1+/vfh2e5640GMeQANJwN1mBZgpIB8hNTWLp9SQd7MVyKEwsgFxaBHJg/FNhDDixa4SwG84oTyw5lFmuCPRi8qzixKjiKBRA3Z7BiOIxiIRxaOdjCivHVCthKeBQDVnD/Aj5qzqRvxuJvXgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAABY0lEQVR42uxXyw3CMAxtSoEFYALEHalDwApwYAtOwAm4MQUHWAGG4MC5YgKYgI9CHTWldZ0moQVxqCVEZFt+ieM8u4xz7lDCGMsYQl9m6yPFk4v1qRkrJ70b3y88x++wDHioF8rB/MEv2zq5QekjpT+7v4EoaQ1v8fq6a2TsxzMXQfJ8pLjOj+T/gCBNXwM6LOupfygQKAL4wZryUYmn2wkOIAHyfKpiiCW8k49s/3siqgBMbFZVl5cmUxDBgcDemIXzAkhuU5U0EHF7dM8wugcgq3GttLsABsGsDhjk1o8Bd/wuM3rApnRFpk6eUAVme5cidVHgVMTp5inSiU+GGyG1ewDBjc+q6gAk2QhjfdTsdOzuFgHBXbgi1QqoPCAoXdXMBnqTwcX4HUEwXzFElt4mioxcdkABDWTCiW5REJ3N6kS6AYQiYGsgAMHsjiXJ9skuXD3YUoTpvmFV36S2/i8BBgBIxbG+UAC9ywAAAABJRU5ErkJggg==\""],"sourceRoot":""}